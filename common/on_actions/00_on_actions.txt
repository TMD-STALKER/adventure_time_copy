on_actions = {
	on_startup = {
		effect = {
			if = {
				limit = {
					has_game_rule = {
						rule = army_experience_cheat
						option = PLUS_RANDOM_ARMY_EX
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					set_variable_to_random = {
						var = random_army_ex
						max = 500
						integer = yes
					}
					army_experience = var:random_army_ex
					clear_variable = random_army_ex
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = army_experience_cheat
						option = PLUS_30_ARMY_EX
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					army_experience = 30
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = army_experience_cheat
						option = PLUS_60_ARMY_EX
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					army_experience = 60
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = army_experience_cheat
						option = PLUS_120_ARMY_EX
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					army_experience = 120
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = army_experience_cheat
						option = PLUS_180_ARMY_EX
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					army_experience = 180
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = army_experience_cheat
						option = PLUS_240_ARMY_EX
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					army_experience = 240
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = army_experience_cheat
						option = PLUS_300_ARMY_EX
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					army_experience = 300
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = army_experience_cheat
						option = PLUS_360_ARMY_EX
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					army_experience = 360
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = army_experience_cheat
						option = PLUS_420_ARMY_EX
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					army_experience = 420
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = army_experience_cheat
						option = PLUS_480_ARMY_EX
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					army_experience = 480
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = command_power_cheat
						option = PLUS_RANDOM_CP
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					set_variable_to_random = {
						var = random_CP
						max = 200
						integer = yes
					}
					set_political_power = var:random_CP
					clear_variable = random_CP
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = command_power_cheat
						option = PLUS_50_CP
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					add_command_power = 50
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = command_power_cheat
						option = PLUS_100_CP
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					add_command_power = 100
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = command_power_cheat
						option = PLUS_150_CP
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					add_command_power = 150
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = command_power_cheat
						option = PLUS_200_CP
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					add_command_power = 200
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = political_power_cheat
						option = PLUS_150
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					add_political_power = 150
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = political_power_cheat
						option = PLUS_RANDOM
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					set_variable_to_random = {
						var = random_PP
						min = -500
						max = 2000
						integer = yes
					}
					set_political_power = var:random_PP
					clear_variable = random_PP
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = political_power_cheat
						option = PLUS_200
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					add_political_power = 200
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = political_power_cheat
						option = PLUS_250
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					add_political_power = 250
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = political_power_cheat
						option = PLUS_300
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					add_political_power = 300
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = political_power_cheat
						option = PLUS_350
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					add_political_power = 350
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = political_power_cheat
						option = PLUS_400
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					add_political_power = 400
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = political_power_cheat
						option = PLUS_450
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					add_political_power = 450
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = political_power_cheat
						option = PLUS_500
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					add_political_power = 500
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = political_power_cheat
						option = PLUS_550
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					add_political_power = 550
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = political_power_cheat
						option = PLUS_600
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					add_political_power = 600
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = political_power_cheat
						option = PLUS_650
					}
				}
				every_country = {
					limit = {
						is_ai = no
					}
					add_political_power = 650
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = unite_bombardiro
						option = UNITE_BOMBARDIRO_DPT
					}
				}
				DPA = { every_owned_state = { add_core_of = DPT } }
				DPO	= { every_owned_state = { add_core_of = DPT } }
				DPE = { every_owned_state = { add_core_of = DPT } }
				CPD = { every_owned_state = { add_core_of = DPT } }
				DPT = {
					annex_country = {
						target = DPA
						transfer_troops = yes
					}
					annex_country = {
						target = DPO
						transfer_troops = yes
					}
					annex_country = {
						target = DPE
						transfer_troops = yes
					}
					annex_country = {
						target = CPD
						transfer_troops = yes
					}
					set_cosmetic_tag = kirill_smart
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = unite_bombardiro
						option = UNITE_BOMBARDIRO_DPA
					}
				}
				DPT = { every_owned_state = { add_core_of = DPA } }
				DPO	= { every_owned_state = { add_core_of = DPA } }
				DPE = { every_owned_state = { add_core_of = DPA } }
				CPD = { every_owned_state = { add_core_of = DPA } }
				DPA = {
					annex_country = {
						target = DPT
						transfer_troops = yes
					}
					annex_country = {
						target = DPO
						transfer_troops = yes
					}
					annex_country = {
						target = DPE
						transfer_troops = yes
					}
					annex_country = {
						target = CPD
						transfer_troops = yes
					}
					set_cosmetic_tag = kirill_smart
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = unite_bombardiro
						option = UNITE_BOMBARDIRO_DPO
					}
				}
				DPT = { every_owned_state = { add_core_of = DPO } }
				DPA	= { every_owned_state = { add_core_of = DPO } }
				DPE = { every_owned_state = { add_core_of = DPO } }
				CPD = { every_owned_state = { add_core_of = DPO } }
				DPO = {
					annex_country = {
						target = DPT
						transfer_troops = yes
					}
					annex_country = {
						target = DPA
						transfer_troops = yes
					}
					annex_country = {
						target = DPE
						transfer_troops = yes
					}
					annex_country = {
						target = CPD
						transfer_troops = yes
					}
					set_cosmetic_tag = kirill_smart
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = unite_bombardiro
						option = UNITE_BOMBARDIRO_DPE
					}
				}
				DPT = { every_owned_state = { add_core_of = DPE } }
				DPA	= { every_owned_state = { add_core_of = DPE } }
				DPO = { every_owned_state = { add_core_of = DPE } }
				CPD = { every_owned_state = { add_core_of = DPE } }
				DPE = {
					annex_country = {
						target = DPT
						transfer_troops = yes
					}
					annex_country = {
						target = DPA
						transfer_troops = yes
					}
					annex_country = {
						target = DPO
						transfer_troops = yes
					}
					annex_country = {
						target = CPD
						transfer_troops = yes
					}
					set_cosmetic_tag = kirill_smart
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = unite_bombardiro
						option = UNITE_BOMBARDIRO_CPD
					}
				}
				DPT = { every_owned_state = { add_core_of = CPD } }
				DPA	= { every_owned_state = { add_core_of = CPD } }
				DPO = { every_owned_state = { add_core_of = CPD } }
				DPE = { every_owned_state = { add_core_of = CPD } }
				CPD = {
					annex_country = {
						target = DPT
						transfer_troops = yes
					}
					annex_country = {
						target = DPA
						transfer_troops = yes
					}
					annex_country = {
						target = DPO
						transfer_troops = yes
					}
					annex_country = {
						target = DPE
						transfer_troops = yes
					}
					set_cosmetic_tag = kirill_smart
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = unite_bombardiro
						option = ICE_BOMBARDIRO
					}
					
				}
				DPT = { 
					set_politics = {
						ruling_party = ice
						elections_allowed = no
					}
					set_popularities = {
						ice = 100
						fire = 0
						slime = 0
						candy = 0
						neutral = 0
					}
				}
				DPA	= {
					set_politics = {
						ruling_party = ice
						elections_allowed = no
					}
					set_popularities = {
						ice = 100
						fire = 0
						slime = 0
						candy = 0
						neutral = 0
					}
				}
				DPO = { 
					set_politics = {
						ruling_party = ice
						elections_allowed = no
					}
					set_popularities = {
						ice = 100
						fire = 0
						slime = 0
						candy = 0
						neutral = 0
					}
				}
				DPE = { 
					set_politics = {
						ruling_party = ice
						elections_allowed = no
					}
					set_popularities = {
						ice = 100
						fire = 0
						slime = 0
						candy = 0
						neutral = 0
					}
				}
				CPD = {
					set_politics = {
						ruling_party = ice
						elections_allowed = no
					}
					set_popularities = {
						ice = 100
						fire = 0
						slime = 0
						candy = 0
						neutral = 0
					}	
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = unite_bombardiro
						option = FIRE_BOMBARDIRO
					}
					
				}
				DPT = { 
					set_politics = {
						ruling_party = fire
						elections_allowed = no
					}
					set_popularities = {
						fire = 100
						ice = 0
						slime = 0
						candy = 0
						neutral = 0
					}
				}
				DPA	= {
					set_politics = {
						ruling_party = fire
						elections_allowed = no
					}
					set_popularities = {
						ice = 0
						fire = 100
						slime = 0
						candy = 0
						neutral = 0
					}
				}
				DPO = { 
					set_politics = {
						ruling_party = fire
						elections_allowed = no
					}
					set_popularities = {
						ice = 0
						fire = 100
						slime = 0
						candy = 0
						neutral = 0
					}
				}
				DPE = { 
					set_politics = {
						ruling_party = fire
						elections_allowed = no
					}
					set_popularities = {
						ice = 0
						fire = 100
						slime = 0
						candy = 0
						neutral = 0
					}
				}
				CPD = {
					set_politics = {
						ruling_party = fire
						elections_allowed = no
					}
					set_popularities = {
						ice = 0
						fire = 100
						slime = 0
						candy = 0
						neutral = 0
					}	
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = unite_bombardiro
						option = CANDY_BOMBARDIRO
					}
					
				}
				DPT = { 
					set_politics = {
						ruling_party = candy
						elections_allowed = no
					}
					set_popularities = {
						fire = 0
						ice = 0
						slime = 0
						candy = 100
						neutral = 0
					}
				}
				DPA	= {
					set_politics = {
						ruling_party = candy
						elections_allowed = no
					}
					set_popularities = {
						ice = 0
						fire = 0
						slime = 0
						candy = 100
						neutral = 0
					}
				}
				DPO = { 
					set_politics = {
						ruling_party = candy
						elections_allowed = no
					}
					set_popularities = {
						ice = 0
						fire = 0
						slime = 0
						candy = 100
						neutral = 0
					}
				}
				DPE = { 
					set_politics = {
						ruling_party = candy
						elections_allowed = no
					}
					set_popularities = {
						ice = 0
						fire = 0
						slime = 0
						candy = 100
						neutral = 0
					}
				}
				CPD = {
					add_political_power = 1
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = unite_bombardiro
						option = SLIME_BOMBARDIRO
					}
					
				}
				DPT = { 
					set_politics = {
						ruling_party = slime
						elections_allowed = no
					}
					set_popularities = {
						fire = 0
						ice = 0
						slime = 100
						candy = 0
						neutral = 0
					}
				}
				DPA	= {
					set_politics = {
						ruling_party = slime
						elections_allowed = no
					}
					set_popularities = {
						ice = 0
						fire = 0
						slime = 100
						candy = 0
						neutral = 0
					}
				}
				DPO = { 
					set_politics = {
						ruling_party = slime
						elections_allowed = no
					}
					set_popularities = {
						ice = 0
						fire = 0
						slime = 100
						candy = 0
						neutral = 0
					}
				}
				DPE = { 
					set_politics = {
						ruling_party = slime
						elections_allowed = no
					}
					set_popularities = {
						ice = 0
						fire = 0
						slime = 100
						candy = 0
						neutral = 0
					}
				}
				CPD = {
					set_politics = {
						ruling_party = slime
						elections_allowed = no
					}
					set_popularities = {
						ice = 0
						fire = 0
						slime = 100
						candy = 0
						neutral = 0
					}	
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = random_focus_tree
						option = RANDOM_FOCUS
					}
				}
				every_country = {
					random_list = {
						40 = {
							load_focus_tree = generic
						}
						10 = {
							load_focus_tree = IKK_focus_tree
						}
						10 = {
							load_focus_tree = mo_focus
						}
						10 = {
							load_focus_tree = mfm_focus
						}
						5 = {
							#load_focus_tree = OLD_focus_tree
							load_focus_tree = mfm_focus
						}
						5 = {
							load_focus_tree = PBB_focus_tree
						}
						5 = {
							load_focus_tree = PBB_ricardio_focus_tree
						}
						5 = {
							load_focus_tree = PBB_zombie_focus_tree
						}
						10 = {
							load_focus_tree = PBB_focus_tree_two
						}
					}
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = random_ideology
						option = RANDOM_IDEOLOGY
					}
				}
				every_country = {
					limit = {
						NOT = {
							OR = {
								original_tag = DPE
								original_tag = DPA
								original_tag = DPO
								original_tag = DPT
								original_tag = CPD
							}
							OR = {
								has_game_rule = {
									rule = unite_bombardiro
									option = ICE_BOMBARDIRO
								}
								has_game_rule = {
									rule = unite_bombardiro
									option = SLIME_BOMBARDIRO
								}
								has_game_rule = {
									rule = unite_bombardiro
									option = FIRE_BOMBARDIRO
								}
								has_game_rule = {
									rule = unite_bombardiro
									option = CANDY_BOMBARDIRO
								}
							}
						}
					}
					random_list = {
						20 = {
							set_politics = {
								ruling_party = neutral
								elections_allowed = no
							}
							set_popularities = {
								ice = 5
								fire = 5
								candy = 5
								slime = 5
								neutral = 80
							}
						}
						20 = {
							set_politics = {
								ruling_party = ice
								elections_allowed = no
							}
							set_popularities = {
								ice = 80
								fire = 5
								candy = 5
								slime = 5
								neutral = 5
							}
						}
						20 = {
							set_politics = {
								ruling_party = fire
								elections_allowed = no
							}
							set_popularities = {
								ice = 5
								fire = 80
								candy = 5
								slime = 5
								neutral = 5
							}
						}
						20 = {
							set_politics = {
								ruling_party = candy
								elections_allowed = no
							}
							set_popularities = {
								ice = 5
								fire = 5
								candy = 80
								slime = 5
								neutral = 5
							}
						}
						20 = {
							set_politics = {
								ruling_party = slime
								elections_allowed = no
							}
							set_popularities = {
								ice = 5
								fire = 5
								candy = 5
								slime = 80
								neutral = 5
							}
						}
					}
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = ai_agaist_player
						option = AI_AGRESSIVE
					}
				}
				every_country = {
					limit = {
						OR = {
							is_ai = no
							any_allied_country = { is_ai = no }
						}
					}
					every_other_country = {
						limit = {
							is_ai = yes
						}
						add_ai_strategy = {
							type = alliance
							id = PREV
							value = -200
						}
						add_ai_strategy = {
							type = antagonize
							id = PREV
							value = 200
						}
						add_ai_strategy = {
							type = conquer
							id = PREV
							value = 200
						}
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 200
						}
						add_ai_strategy = {
							type = ignore
							id = PREV
							value = 200
						}
						add_ai_strategy = {
							type = support
							id = PREV
							value = -200
						}
					}
				}
				every_country = {
					limit = {
						is_ai = yes
						any_neighbor_country = { 
							OR = {
								is_ai = no
								any_allied_country = { is_ai = no }
							}
						}
					}
					every_other_country = {
						limit = {
							is_ai = yes
						}
						add_ai_strategy = {
							type = support
							id = PREV
							value = 200
						}
						add_ai_strategy = {
							type = protect
							id = PREV
							value = 200
						}
						add_ai_strategy = {
							type = befriend
							id = PREV
							value = 150
						}
						add_ai_strategy = {
							type = alliance
							id = PREV
							value = 225
						}
					}
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = random_diplomacy
						option = random_allies
					}
				}
				every_country = {
					limit = {
						is_in_faction = yes
					}
					leave_faction = yes
				}
				every_country = {
					limit = {
						is_in_faction = no
						is_puppet = no
						is_subject = no
					}
					random_list = {
						50 = {
							if = {
								limit = {
									any_neighbor_country = { 
										is_in_faction = yes
										NOT = { has_war_with = PREV }
									}
								}
								random_neighbor_country = {
									limit = {
										is_in_faction = yes
										NOT = { has_war_with = PREV }
									}
									faction_leader = { add_to_faction = prev.prev }
								}
							}
							else = {
								create_faction = generic_faction_name
								set_faction_name = generic_faction_name2
							}
						}
						50 = {
							create_faction = generic_faction_name
							set_faction_name = generic_faction_name2
						}
					}
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = random_diplomacy
						option = random_puppets
					}
				}
				every_country = {
					limit = {
						OR = {
							is_puppet = yes
							is_subject = yes
						}
					}
					overlord = { end_puppet = PREV }
				}
				every_country = {
					limit = {
						is_puppet = no
						is_subject = no
					}
					random_list = {
						30 = { }
						10 = {
							if = {
								limit = {
									any_neighbor_country = { 
										is_puppet = no
										is_subject = no
										NOT = { has_war_with = PREV }
									}
								}
								random_neighbor_country = {
									limit = {
										is_puppet = no
										is_subject = no
										NOT = { has_war_with = PREV }
									}
									PREV = {
										set_autonomy = {
											target = PREV
											autonomous_state = autonomy_integrated_puppet
											end_wars = no
											end_civil_wars = no
										}
									}
								}
							}
						}
						10 = {
							if = {
								limit = {
									any_neighbor_country = { 
										is_puppet = no
										is_subject = no
										NOT = { has_war_with = PREV }
									}
								}
								random_neighbor_country = {
									limit = {
										is_puppet = no
										is_subject = no
										NOT = { has_war_with = PREV }
									}
									PREV = {
										set_autonomy = {
											target = PREV
											autonomous_state = autonomy_puppet
											end_wars = no
											end_civil_wars = no
										}
									}
								}
							}
						}
						10 = {
							if = {
								limit = {
									any_neighbor_country = { 
										is_puppet = no
										is_subject = no
										NOT = { has_war_with = PREV }
									}
								}
								random_neighbor_country = {
									limit = {
										is_puppet = no
										is_subject = no
										NOT = { has_war_with = PREV }
									}
									PREV = {
										set_autonomy = {
											target = PREV
											autonomous_state = autonomy_personal_union
											end_wars = no
											end_civil_wars = no
										}
									}
								}
							}
						}
						10 = {
							if = {
								limit = {
									any_neighbor_country = { 
										is_puppet = no
										is_subject = no
										NOT = { has_war_with = PREV }
									}
								}
								random_neighbor_country = {
									limit = {
										is_puppet = no
										is_subject = no
										NOT = { has_war_with = PREV }
									}
									PREV = {
										set_autonomy = {
											target = PREV
											autonomous_state = autonomy_supervised_state
											end_wars = no
											end_civil_wars = no
										}
									}
								}
							}
						}
						10 = {
							if = {
								limit = {
									any_neighbor_country = { 
										is_puppet = no
										is_subject = no
										NOT = { has_war_with = PREV }
									}
								}
								random_neighbor_country = {
									limit = {
										is_puppet = no
										is_subject = no
										NOT = { has_war_with = PREV }
									}
									PREV = {
										set_autonomy = {
											target = PREV
											autonomous_state = autonomy_collaboration_government
											end_wars = no
											end_civil_wars = no
										}
									}
								}
							}
						}
						10 = {
							if = {
								limit = {
									any_neighbor_country = { 
										is_puppet = no
										is_subject = no
										NOT = { has_war_with = PREV }
									}
								}
								random_neighbor_country = {
									limit = {
										is_puppet = no
										is_subject = no
										NOT = { has_war_with = PREV }
									}
									PREV = {
										set_autonomy = {
											target = PREV
											autonomous_state = autonomy_dominion
											end_wars = no
											end_civil_wars = no
										}
									}
								}
							}
						}
						10 = {
							if = {
								limit = {
									any_neighbor_country = { 
										is_puppet = no
										is_subject = no
										NOT = { has_war_with = PREV }
									}
								}
								random_neighbor_country = {
									limit = {
										is_puppet = no
										is_subject = no
										NOT = { has_war_with = PREV }
									}
									PREV = {
										set_autonomy = {
											target = PREV
											autonomous_state = autonomy_colony
											end_wars = no
											end_civil_wars = no
										}
									}
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = random_diplomacy
						option = random_wars
					}
				}
				every_country = {
					limit = {
						has_war = yes
					}
					every_enemy_country = { white_peace = PREV }
				}
				every_country = {
					limit = {
						has_war = no
					}
					random_list = {
						50 = {
							if = {
								limit = {
									any_neighbor_country = { 
										NOT = { 
											has_war_with = PREV
											is_puppet_of = PREV
											is_subject_of = PREV
											is_in_faction_with = PREV
										}
									}
								}
								random_neighbor_country = {
									limit = {
										NOT = { 
											has_war_with = PREV
											is_puppet_of = PREV
											is_subject_of = PREV
											is_in_faction_with = PREV
										}
									}
									PREV = {
										declare_war_on = {
											target = PREV
											type = annex_everything
										}
									}
								}
							}
							else = {
								add_political_power = 1
							}
						}
						50 = {
							add_political_power = 1
						}
					}
				}
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = random_diplomacy
						option = random_all
					}
				}
				every_country = {
					limit = {
						has_war = yes
					}
					every_enemy_country = { white_peace = PREV }
				}
				every_country = {
					limit = {
						OR = {
							is_puppet = yes
							is_subject = yes
						}
					}
					overlord = { end_puppet = PREV }
				}
				every_country = {
					limit = {
						is_in_faction = yes
					}
					leave_faction = yes
				}
				every_country = {
					limit = {
						is_puppet = no
						is_subject = no
						has_war = no
						is_in_faction = no
					}
					random_list = {
						40 = {
							random_list = {
								70 = {
									if = {
										limit = {
											any_neighbor_country = { 
												NOT = { 
													has_war_with = PREV
													is_puppet_of = PREV
													is_subject_of = PREV
													is_in_faction_with = PREV
												}
											}
										}
										random_neighbor_country = {
											limit = {
												NOT = { 
													has_war_with = PREV
													is_puppet_of = PREV
													is_subject_of = PREV
													is_in_faction_with = PREV
												}
											}
											PREV = {
												declare_war_on = {
													target = PREV
													type = annex_everything
												}
											}
										}
									}
									else = {
										add_political_power = 1
									}
								}
								30 = {
									add_political_power = 1
								}
							}
						}
						30 = {
							random_list = {
								15 = {
									if = {
										limit = {
											any_neighbor_country = { 
												is_puppet = no
												is_subject = no
												NOT = { has_war_with = PREV }
											}
										}
										random_neighbor_country = {
											limit = {
												is_puppet = no
												is_subject = no
												NOT = { has_war_with = PREV }
											}
											PREV = {
												set_autonomy = {
													target = PREV
													autonomous_state = autonomy_integrated_puppet
													end_wars = no
													end_civil_wars = no
												}
											}
										}
									}
								}
								15 = {
									if = {
										limit = {
											any_neighbor_country = { 
												is_puppet = no
												is_subject = no
												NOT = { has_war_with = PREV }
											}
										}
										random_neighbor_country = {
											limit = {
												is_puppet = no
												is_subject = no
												NOT = { has_war_with = PREV }
											}
											PREV = {
												set_autonomy = {
													target = PREV
													autonomous_state = autonomy_puppet
													end_wars = no
													end_civil_wars = no
												}
											}
										}
									}
								}
								15 = {
									if = {
										limit = {
											any_neighbor_country = { 
												is_puppet = no
												is_subject = no
												NOT = { has_war_with = PREV }
											}
										}
										random_neighbor_country = {
											limit = {
												is_puppet = no
												is_subject = no
												NOT = { has_war_with = PREV }
											}
											PREV = {
												set_autonomy = {
													target = PREV
													autonomous_state = autonomy_personal_union
													end_wars = no
													end_civil_wars = no
												}
											}
										}
									}
								}
								15 = {
									if = {
										limit = {
											any_neighbor_country = { 
												is_puppet = no
												is_subject = no
												NOT = { has_war_with = PREV }
											}
										}
										random_neighbor_country = {
											limit = {
												is_puppet = no
												is_subject = no
												NOT = { has_war_with = PREV }
											}
											PREV = {
												set_autonomy = {
													target = PREV
													autonomous_state = autonomy_supervised_state
													end_wars = no
													end_civil_wars = no
												}
											}
										}
									}
								}
								10 = {
									if = {
										limit = {
											any_neighbor_country = { 
												is_puppet = no
												is_subject = no
												NOT = { has_war_with = PREV }
											}
										}
										random_neighbor_country = {
											limit = {
												is_puppet = no
												is_subject = no
												NOT = { has_war_with = PREV }
											}
											PREV = {
												set_autonomy = {
													target = PREV
													autonomous_state = autonomy_collaboration_government
													end_wars = no
													end_civil_wars = no
												}
											}
										}
									}
								}
								15 = {
									if = {
										limit = {
											any_neighbor_country = { 
												is_puppet = no
												is_subject = no
												NOT = { has_war_with = PREV }
											}
										}
										random_neighbor_country = {
											limit = {
												is_puppet = no
												is_subject = no
												NOT = { has_war_with = PREV }
											}
											PREV = {
												set_autonomy = {
													target = PREV
													autonomous_state = autonomy_dominion
													end_wars = no
													end_civil_wars = no
												}
											}
										}
									}
								}
								15 = {
									if = {
										limit = {
											any_neighbor_country = { 
												is_puppet = no
												is_subject = no
												NOT = { has_war_with = PREV }
											}
										}
										random_neighbor_country = {
											limit = {
												is_puppet = no
												is_subject = no
												NOT = { has_war_with = PREV }
											}
											PREV = {
												set_autonomy = {
													target = PREV
													autonomous_state = autonomy_colony
													end_wars = no
													end_civil_wars = no
												}
											}
										}
									}
								}
							}
						}
						30 = {
							random_list = {
								50 = {
									if = {
										limit = {
											any_neighbor_country = { 
												is_in_faction = yes
												NOT = { has_war_with = PREV }
											}
										}
										random_neighbor_country = {
											limit = {
												is_in_faction = yes
												NOT = { has_war_with = PREV }
											}
											faction_leader = { add_to_faction = prev.prev }
										}
									}
									else = {
										create_faction = generic_faction_name
										set_faction_name = generic_faction_name2
									}
								}
								50 = {
									create_faction = generic_faction_name
									set_faction_name = generic_faction_name2
								}
							}
						}
					}
				}
			}
			else = { }
			every_country = {
				#limit = {
				#	has_idea = free_trade1
				#}
				set_variable = {
					var = governments_var
					value = 17
				}
				set_variable = {
					var = gnomiki_var
					value = 0
				}
				set_variable = {
					var = sanchousi_var
					value = 0
				}
				set_variable = {
					var = evil_governments_var
					value = 0
				}
				set_variable = {
					var = peaseful_governments_var
					value = 0
				}
				set_variable = {
					var = neutral_governments_var
					value = 0
				}
				set_variable = {
					var = minus_pies
					value = 0
				}
				set_variable = {
					var = plus_pies
					value = 0
				}
			}
			every_country = {
				limit = {
					has_idea = free_trade1
					has_country_flag = pisyapopa_flag
				}
				add_to_variable = {
					var = peaseful_governments_var
					value = 1
				}
				every_other_country = {
					limit = {
						has_idea = free_trade1
					}
					add_to_variable = {
						var = peaseful_governments_var
						value = 1
					}
				}
			}
			every_country = {
				limit = {
					has_idea = free_trade1
					has_country_flag = agressor_flag
				}
				add_to_variable = {
					var = evil_governments_var
					value = 1
				}
				every_other_country = {
					limit = {
						has_idea = free_trade1
					}
					add_to_variable = {
						var = evil_governments_var
						value = 1
					}
				}
			}
			every_country = {
				limit = {
					has_idea = free_trade1
					NOT = {
						has_country_flag = agressor_flag
						has_country_flag = pisyapopa_flag
					}
				}
				add_to_variable = {
					var = neutral_governments_var
					value = 1
				}
				every_other_country = {
					limit = {
						has_idea = free_trade1
					}
					add_to_variable = {
						var = neutral_governments_var
						value = 1
					}
				}
			}
			every_country = {
				limit = {
					OR = {
						has_idea = free_trade1
						has_idea = export_focus1
						has_idea = limited_exports1
					}
				}
				set_country_flag = already_state_flag
			}
			every_country = {
				limit = {
					OR = {
						has_idea = volunteer_only1
						has_idea = disarmed_nation1
					}
				}
				country_lock_all_division_template = yes
			}
			every_country = {
				limit = {
					is_ai = no
					is_debug = no
				}
				country_event = debug.1
			}
			PBB = {
				set_variable = {
					var = stability_of_empire
					value = 0
				}
				set_temp_variable = { stability_from_states_empire = num_controlled_states }
				add_to_variable = {
					var = stability_of_empire
					value = var:stability_from_states_empire
				}
				set_variable = {
					var = puppets_of_empire
					value = 0
				}
				set_temp_variable = { now_puppets_empire = num_subjects }
				add_to_variable = {
					var = puppets_of_empire
					value = var:now_puppets_empire
				}
			}
			IKK = {
				set_variable = {
					var = pbb_watching_for_you
					value = 0
				}
				set_temp_variable = { pbb_watching_allies = num_faction_members }
				add_to_variable = {
					var = pbb_watching_for_you
					value = var:pbb_watching_allies
				}
			}
			FIK = {
				set_variable = {
					var = pbb_watching_for_you
					value = 0
				}
				set_temp_variable = { pbb_watching_allies = num_faction_members }
				add_to_variable = {
					var = pbb_watching_for_you
					value = var:pbb_watching_allies
				}
			}
			COM = {
				set_variable = {
					var = pbb_watching_for_you
					value = 0
				}
				set_temp_variable = { pbb_watching_allies = num_faction_members }
				add_to_variable = {
					var = pbb_watching_for_you
					value = var:pbb_watching_allies
				}
			}
		}
	}
	on_daily_FIK = {
		effect = {
			if = {
				limit = {
					check_variable = {
						pbb_watching_allies > var:pbb_watching_for_you
					}
				}
				clear_variable = pbb_watching_for_you
				clear_variable = pbb_watching_allies
				PBB = {
					more_fire_danger = yes
				}
				set_variable = {
					var = pbb_watching_for_you
					value = 0
				}
				set_temp_variable = { pbb_watching_allies = num_faction_members }
				add_to_variable = {
					var = pbb_watching_for_you
					value = var:pbb_watching_allies
				}
			}
		}
	}
	on_daily_COM = {
		effect = {
			if = {
				limit = {
					check_variable = {
						pbb_watching_allies > var:pbb_watching_for_you
					}
				}
				clear_variable = pbb_watching_for_you
				clear_variable = pbb_watching_allies
				PBB = {
					more_mage_danger = yes
				}
				set_variable = {
					var = pbb_watching_for_you
					value = 0
				}
				set_temp_variable = { pbb_watching_allies = num_faction_members }
				add_to_variable = {
					var = pbb_watching_for_you
					value = var:pbb_watching_allies
				}
			}
		}
	}
	on_daily_IKK = {
		effect = {
			if = {
				limit = {
					check_variable = {
						pbb_watching_allies > var:pbb_watching_for_you
					}
				}
				clear_variable = pbb_watching_for_you
				clear_variable = pbb_watching_allies
				PBB = {
					more_ice_danger = yes
				}
				set_variable = {
					var = pbb_watching_for_you
					value = 0
				}
				set_temp_variable = { pbb_watching_allies = num_faction_members }
				add_to_variable = {
					var = pbb_watching_for_you
					value = var:pbb_watching_allies
				}
			}
		}
	}
	on_daily_FAJ = {
		effect = {
			if = {
				limit = {
					controls_state = 291
					controls_state = 741
					NOT = { 
						has_country_flag = ANDR_FLAG
						has_country_leader = {
							character = FAJ_jake
							ruling_only = yes
						}
						has_country_leader = {
							character = FAJ_finn
							ruling_only = yes
						}
					}
					is_historical_focus_on = no
				}
				set_country_flag = ANDR_FLAG
				country_event = debug.2
			}
		}
	}

	on_monthly_PBB = {
		effect = {
			else_if = {
				limit = {	
					has_country_flag = pbb_its_bad_time_forth
				}
				clr_country_flag = pbb_its_bad_time_forth
				clr_country_flag = pbb_its_bad_time_third
				clr_country_flag = pbb_its_bad_time_second
				clr_country_flag = pbb_its_bad_time
				PBB_bonne_bad = yes
			}
			else_if = {
				limit = {	
					has_country_flag = pbb_its_bad_time_third
				}
				set_country_flag = pbb_its_bad_time_forth
			}
			else_if = {
				limit = {	
					has_country_flag = pbb_its_bad_time_second
				}
				set_country_flag = pbb_its_bad_time_third
			}
			else_if = {
				limit = {	
					has_country_flag = pbb_its_bad_time
				}
				set_country_flag = pbb_its_bad_time_second
			}
			else = {
				set_country_flag = pbb_its_bad_time
			}
		}
	}
	on_weekly_FAJ = {
		effect = {
			if = {
				limit = {
					has_country_flag = pies_done
					check_variable = {
						plus_pies > var:minus_pies
					}
					is_historical_focus_on = no
				}
				country_event = faj.17
				clr_country_flag = pies_done
			}
			else_if = {
				limit = {
					has_country_flag = pies_done
					OR = {
						AND = {
							check_variable = {
								var = minus_pies
								value = var:plus_pies
								compare = greater_than_or_equals
							}
							is_historical_focus_on = no
						}
						AND = {
							is_historical_focus_on = yes
							check_ariable = {
								plus_pies > var:minus_pies
							}
						}
					}
				}
				country_event = faj.18
				clr_country_flag = pies_done
			}
		}
	}
	on_daily_PBB = {
		effect = {
			#if = {
			#	limit = {
			#		PBB = {
			#			strength_ratio = {
			#				tag = FIK
			#				ratio < 0.5
			#			}
			#			NOT = { has_country_flag = fik_stronger_flag }
			#		}
			#	}
			#	set_country_flag = fik_stronger_flag
			#	clr_country_flag = fik_weak_flag
			#	more_fire_danger = yes
			#}
			#else_if = {
			#	limit = {
			#		PBB = {
			#			strength_ratio = {
			#				tag = FIK
			#				ratio > 1
			#			}
			#			NOT = { has_country_flag = fik_weak_flag }
			#		}
			#	}
			#	set_cosmetic_tag = fik_weak_flag
			#	clr_country_flag = fik_stronger_flag
			#	no_fire_danger = yes
			#}
			###########
			if = {
				limit = {
					any_neighbor_country = { TAG = IKK }
					NOT = { has_country_flag = neighbor_ikk_flag }
				}
				more_ice_danger = yes
				set_country_flag = neighbor_ikk_flag
			}
			else_if = {
				limit = {
					all_neighbor_country = { NOT = { TAG = IKK } }
					has_country_flag = neighbor_ikk_flag
				}
				no_ice_danger = yes
				clr_country_flag = neighbor_ikk_flag
			}
			if = {
				limit = {
					any_neighbor_country = { TAG = COM }
					NOT = { has_country_flag = neighbor_com_flag }
				}
				more_mage_danger = yes
				set_country_flag = neighbor_com_flag
			}
			else_if = {
				limit = {
					all_neighbor_country = { NOT = { TAG = COM } }
					has_country_flag = neighbor_com_flag
				}
				no_mage_danger = yes
				clr_country_flag = neighbor_com_flag
			}
			if = {
				limit = {
					any_neighbor_country = { TAG = FIK }
					NOT = { has_country_flag = neighbor_fik_flag }
				}
				more_fire_danger = yes
				set_country_flag = neighbor_fik_flag
			}
			else_if = {
				limit = {
					all_neighbor_country = { NOT = { TAG = FIK } }
					has_country_flag = neighbor_fik_flag
				}
				no_fire_danger = yes
				clr_country_flag = neighbor_fik_flag
			}
			if = {
				limit = {
					num_of_controlled_states > var:stability_of_empire
				}
				clear_variable = stability_of_empire
				clear_variable = stability_from_states_empire
				set_variable = {
					var = stability_of_empire
					value = 0
				}
				set_temp_variable = { stability_from_states_empire = num_controlled_states }
				add_to_variable = {
					var = stability_of_empire
					value = var:stability_from_states_empire
				}
				PBB_bonne_good = yes
			}
			if = {
				limit = {
					num_subjects > var:puppets_of_empire
				}
				clear_variable = puppets_of_empire
				clear_variable = now_puppets_empire
				set_variable = {
					var = puppets_of_empire
					value = 0
				}
				set_temp_variable = { now_puppets_empire = num_subjects }
				add_to_variable = {
					var = puppets_of_empire
					value = var:now_puppets_empire
				}
				PBB_bonne_good = yes
			}
			#if = {
			#	limit = {
			#		any_owned_state = {
			#			NOT = { is_core_of = PBB }
			#			has_dynamic_modifier = {
			#				modifier = SHARED_licvidate_getto
			#				scope = PBB
			#			}
			#			compliance > 84
			#		}
			#	}
			#	PBB_low_bandit = yes
			#	random_owned_state = {
			#		limit = {
			#			NOT = { is_core_of = PBB }
			#			has_dynamic_modifier = {
			#				modifier = SHARED_licvidate_getto
			#				scope = PBB
			#			}
			#			compliance > 84
			#		}
			#		add_core_of = PBB
			#		remove_dynamic_modifier = { modifier = SHARED_licvidate_getto }
			#	}
			#}
			if = {
				limit = {
					has_idea = PBB_peaseful_people
					OR = {
						surrender_progress > 0.8
						longest_war_length > 12
					}
					all_enemy_country = {
						NOT = { has_cosmetic_tag = PBB_resistance_candy }
					}
					any_owned_state = { is_capital = no }
				}
				country_event = {
					id = pbb.15
					days = 15
					random_hours = 12
					random_days = 5
				}
			}
			if = {
				limit = {
					has_war = yes
					any_enemy_country = { has_cosmetic_tag = PBB_candy_zombie_tag }
					#has_global_flag = experiment_is_end_flag
					surrender_progress > 0.05
					date < 3008.01.01
				}
				country_event = pbb.9
			}
			if = {
				limit = {
					has_war = yes
					any_enemy_country = { has_cosmetic_tag = PBB_candy_zombie_tag }
					#has_global_flag = experiment_is_end_flag
					surrender_progress > 0.1
					date < 3008.01.01
				}
				country_event = pbb.10
			}
			if = {
				limit = {
					any_enemy_country = { has_cosmetic_tag = PBB_candy_zombie_tag }
					#has_global_flag = experiment_is_end_flag
					263 = { NOT = { is_controlled_by = PBB } }
					date < 3008.01.01
				}
				country_event = pbb.11
				news_event = {
					id = ooonews.2
					days = 4
					random_hours = 5
					random_days = 2
				} 
			}
			if = {
				limit = {
					any_enemy_country = { has_cosmetic_tag = PBB_candy_zombie_tag }
					#has_global_flag = experiment_is_end_flag
					surrender_progress > 0.40
					NUT = { 
						is_puppet_of = PBB
						NOT = { has_country_flag = loyal_flag }
					}
					date < 3008.01.01
				}
				country_event = pbb.12
			}
			if = {
				limit = {
					any_enemy_country = { has_cosmetic_tag = PBB_candy_zombie_tag }
					#has_global_flag = experiment_is_end_flag
					surrender_progress > 0.48
					GLK = { 
						is_puppet_of = PBB
						NOT = { has_country_flag = loyal_flag }
					}
					date < 3008.01.01
				}
				country_event = pbb.13
			}
		}
	}
	on_daily_IKK = {
		effect = {
			if = {
				limit = {
					is_ai = yes
					PBB = {
						OR = {
							has_completed_focus = PBB_last_experiment
							has_completed_focus = PBB_absolute_power_after_death
							has_completed_focus = PBB_dead_union
						}
					}
					NOT = { has_country_flag = IKK_home_for_princess_flagg }
				}
				complete_national_focus = IKK_home_for_princess
				set_country_flag = IKK_home_for_princess_flagg
			}
		}
	}
	on_daily_DPH = {
		effect = {
			if = {
				limit = {
					has_war = yes
					owns_state = 747
					NOT = { controls_state = 747 }
					NOT = { has_global_flag = pirat_port_capture_flag }
					date < 3015.01.01
				}
				country_event = dph.1
				set_global_flag = pirat_port_capture_flag
			}
		}
	}		
	on_daily = {
		effect = {
			if = {
				limit = {
					has_war = yes
					any_enemy_country = { 
						original_tag = LIC
						OR = {
							surrender_progress > 0.5
							num_of_controlled_states < 2
						}
					}
					NOT = { has_global_flag = already_final_fight }
				}
				country_event = pbb.113
				set_global_flag = already_final_fight
			}
			else_if = {
				limit = {
					has_war = yes
					any_enemy_country = { 
						original_tag = LIC
						OR = {
							surrender_progress > 0.5
							num_of_controlled_states < 2
						}
					}
					NOT = { has_global_flag = already_final_fight3 }
					has_global_flag = already_final_fight2
				}
				country_event = pbb.121
				set_global_flag = already_final_fight2
			}
			if = {
				limit = {
					has_global_flag = great_attack_on_candy_kingdom
					has_war_with = FHL
					original_tag = PBB
					any_owned_state = { is_controlled_by = FHL }
				}
				clr_global_flag = great_attack_on_candy_kingdom
				country_event = pbb.77
			}
			if = {
				limit = {
					has_country_flag = we_loosing_flag
					has_war_with = PBB
					original_tag = FHL
					PBB = {
						all_owned_state = { is_controlled_by = PBB }
					}
				}
				white_peace = PBB
				clr_country_flag = we_loosing_flag
			}
			##############
			if = {
				limit = {
					has_war = yes
					any_controlled_state = { 
						NOT = { is_owned_by = ROOT }
						compliance > 49
					}
					has_completed_focus = SHARED_candy_formula
					has_stability > 0.01
					has_war_support > 0.01
				}
				add_war_support = -0.01
				add_stability = -0.01
				random_controlled_state = {
					limit = {
						NOT = { is_owned_by = ROOT }
						compliance > 49
					}
					add_core_of = ROOT
				}
			}
			#####
			if = {
				limit = {
					has_war = yes
					has_idea = SHARED_culture_of_war
					NOT = { has_country_flag = SHARED_culture_of_war_flag }
				}
				add_political_power = 150
				army_experience = 20
				navy_experience = 20
				air_experience = 20
				set_country_flag = SHARED_culture_of_war_flag
			}
			if = {
				limit = {
					has_war = yes
					has_idea = PBB_member_of_tax_deal
					has_defensive_war = yes
					NOT = { 
						has_country_flag = PBB_member_of_tax_deal_flag 
						any_enemy_country = { original_tag = PBB }
					}
				}
				division_template = {
					name = "PB squad"
					is_locked = yes
					division_names_group = PBB_MYD_01

					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
					}
				}
				every_owned_state = {
					limit = {
						is_core_of = ROOT
					}
					create_unit = {
						division = "name = \"PB squad\" division_template = \"PB squad\" start_experience_factor = 1"
						owner = ROOT
						allow_spawning_on_enemy_provs = yes
					}
				}
				add_offsite_building = { type = arms_factory level = 1 }
				set_country_flag = PBB_member_of_tax_deal_flag
			}
		}
	}
	on_peace = {
		effect = {
			if = {
				limit = {
					has_completed_focus = SHARED_candy_formula
				}
			}
			uncomplete_national_focus = {
			  focus = SHARED_candy_formula
			  uncomplete_children = yes
			  refund_political_power = yes
			}
			if = {
				limit = {
					has_idea = SHARED_culture_of_war
					has_country_flag = SHARED_culture_of_war_flag
				}
				clr_country_flag = SHARED_culture_of_war_flag
			}
			if = {
				limit = {
					has_country_flag = already_have_volunters_from_us
				}
				clr_country_flag = already_have_volunters_from_us
				every_country = {
					limit = {
						has_idea = free_trade1
					}
					add_ai_strategy = {
						type = send_volunteers_desire
						id = ROOT
						value = -200
					}
				}
			}
			if = {
				limit = {
					has_idea = PBB_member_of_tax_deal
					has_country_flag = PBB_member_of_tax_deal_flag
				}
				delete_unit = {
					division_template = "PB squad"
				}
				add_offsite_building = { type = arms_factory level = -1 }
				clr_country_flag = PBB_member_of_tax_deal_flag
			}
		}
	}
	
}