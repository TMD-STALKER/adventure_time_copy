#category = short_term medium_term or long_term
# ROOT is faction leader, FROM is faction member who opens UI and views goals, completed/cancel/complete_effect do not have FROM scopes


######################################################################

###  ##   ##  ### ###  ##  #  #      ## ###  ###  ##  ### ### ###  ##  
#   #  # #  #  #   #  #  # ## #     #   #  # #   #  #  #  #    #  #  # 
##  #### #     #   #  #  # # ##      #  ###  ##  #     #  ##   #  #    
#   #  # #  #  #   #  #  # #  #       # #    #   #  #  #  #    #  #  # 
#   #  #  ##   #  ###  ##  #  #     ##  #    ###  ##  ### #   ###  ##  

######################################################################
faction_goal_safety_border = {
	name = faction_goal_safety_border
	description = faction_goal_safety_border_desc
	category = medium_term
	group = FOCUS_FILTER_WAR_SUPPORT
	visible = {
		FROM = { original_tag = PBB }
	}
	completed = {
		all_neighbor_country = {
			has_government = candy
		}
		
	}
	complete_effect = {
		add_faction_power_projection = 100
		every_faction_member = {
			limit = {
				original_tag = PBB
			}
			add_faction_initiative = 1
		}
		custom_effect_tooltip = generic_skip_one_line_tt
		every_faction_member = { 
			tooltip = INFLUENCE_ABOVE_30_PERCENT
			visible_when_empty = yes
			limit = {
				faction_influence_ratio > 0.3
			}
			add_war_support = 0.05
			add_political_power = 50
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			add = 9
			is_historical_focus_on = yes
		}
	}
}

 ##  #   # ###  ## 
#  #  # #   #  #   
####   #    #   #  
#  #  # #   #    # 
#  # #   # ### ##  


faction_goal_undo_versailles = {
	name = undo_versailles_goal_name
	description = undo_versailles_goal_desc
	category = medium_term
	group = FOCUS_FILTER_WAR_SUPPORT
	visible = {
		FROM = { original_tag = FIK }
	}
	completed = {
		OR = {
			AND = {
				original_tag = FIK
				has_army_manpower = {
					size > 1000000
				}
				controls_state = 524
				controls_state = 502
				controls_state = 468
				controls_state = 419
				controls_state = 480
				controls_state = 506
				controls_state = 504
			}
			any_allied_country = {
				original_tag = FIK
				has_army_manpower = {
					size > 1000000
				}
				controls_state = 524
				controls_state = 502
				controls_state = 468
				controls_state = 419
				controls_state = 480
				controls_state = 506
				controls_state = 504
			}
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		every_faction_member = {
			limit = {
				original_tag = FIK
			}
			add_faction_initiative = 1
		}
		custom_effect_tooltip = generic_skip_one_line_tt
		every_faction_member = { 
			tooltip = INFLUENCE_ABOVE_30_PERCENT
			visible_when_empty = yes
			limit = {
				faction_influence_ratio > 0.3
			}
			add_war_support = 0.05
			add_political_power = 50
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			add = 9
			is_historical_focus_on = yes
		}
	}
}

faction_goal_secure_european_continent = {
	name = secure_european_continent_goal_name
	description = secure_european_continent_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	visible = {
		FROM = {
			original_tag = FIK
		}
	}
	completed = {
		collection_size = {
			input = {
				input = game:scope
				operators = {
					limit = {
						OR = {
							is_in_faction_with = ROOT
							has_capitulated = yes
							exists = no
							is_subject_of = ROOT 
						}
					}
				}
				name = COLLECTION_CONTINENTAL_EUROPE_DEFEATED_OR_FACTION_MEMBERS
			}
			value > 8
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		every_faction_member = { 
			tooltip = INFLUENCE_ABOVE_30_PERCENT
			visible_when_empty = yes
			limit = {
				faction_influence_ratio > 0.3
			}
			add_faction_initiative = 1
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			add = 9
			is_historical_focus_on = yes
		}
	}
}

faction_goal_secure_north_africa = {
	name = secure_north_africa_goal_name
	description = secure_north_africa_goal_desc
	group = FOCUS_FILTER_ANNEXATION
	category = medium_term
	visible = {
		OR = {
			FROM = { original_tag = TMT }
			any_allied_country = {
				original_tag = TMT 
			}
		}
	}
	available = {

	}
	completed = {
		AND = {
			385 = {  is_controlled_by_ROOT_or_ally = yes } # Suez
			392 = {  is_controlled_by_ROOT_or_ally = yes } # Tripoli
			382 = {  is_controlled_by_ROOT_or_ally = yes } # Malta
		}
		OR = {
			363 = {  is_controlled_by_ROOT_or_ally = yes } # Gibraltar
			353 = {  is_controlled_by_ROOT_or_ally = yes } # Cyprus
			335 = {  is_controlled_by_ROOT_or_ally = yes } # Crete
		}
	}
	complete_effect = {
		add_faction_power_projection = 500
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = INFLUENCE_TOP_TWO
		every_faction_member = {
			limit = {
				faction_influence_rank < 3
			}
			add_faction_initiative = 1
			add_political_power = 312 
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 10
			is_historical_focus_on = yes
		}
	}
}

faction_goal_high_seas_fleet = {
	name = high_seas_fleet_goal_name
	description = high_seas_fleet_goal_desc
	group = FOCUS_FILTER_NAVY_XP
	category = medium_term
	allowed = {
	}
	visible = {
		FROM = {
			OR = {
				original_tag = FIK
				AND = {
					any_allied_country = {
						original_tag = FIK
					}
					num_of_naval_factories > 0
				}
			}
		}
	}
	completed = {
		has_war_with_major = yes 
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION
			}
			unit = capital_ship
			size > 19
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = THE_FACTION_LEADER
		add_faction_initiative = 1
		every_collection_element = {
			input = {
				input = game:scope
				operators =  { 
					faction_members
					limit = {
						num_of_naval_factories > 0
					}
				}
				name = ALL_FACTION_MEMBERS
			}
			navy_experience = 50
			add_tech_bonus = {
				name = high_seas_fleet_tech_bonus
				bonus = 0.5
				uses = 2
				category = naval_equipment
			}
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			add = 1 # If they have a bunch of naval factories, go for it
			num_of_naval_factories > 29
		}
	}
}


### #  # ###      ##  #   #   ### ###  ## 
 #  #  # #       #  # #   #    #  #   #   
 #  #### ##      #### #   #    #  ##   #  
 #  #  # #       #  # #   #    #  #     # 
 #  #  # ###     #  # ### ### ### ### ## 

faction_goal_the_arteries_of_trade = {
	name = the_arteries_of_trade_goal_name
	description = the_arteries_of_trade_goal_desc
	category = medium_term
	group = FOCUS_FILTER_CONSOLIDATION
	allowed = {
	}
	visible = {
		FROM = {
			has_war = yes
			OR = {
				tag = BEK
				tag = OLD
				tag = NUT
				tag = GLK
				tag = PBB
			}
		}
	}
	completed = {
		count_triggers = {
			amount = 10
			has_naval_control = 3
			has_naval_control = 4
			has_naval_control = 5
			has_naval_control = 6
			has_naval_control = 67
			has_naval_control = 8
			has_naval_control = 9
			has_naval_control = 94
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		every_faction_member = {
			add_stability = 0.05
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			add = 1 # Extra eager to do this as the main trade nations
			OR = {
				original_tag = BEK
				original_tag = PBB
			}
		}
		modifier = {
			factor = 2
			is_historical_focus_on = yes
		}
	}
}

faction_goal_imperial_glory = {
	name = imperial_glory_goal_name
	description = imperial_glory_goal_desc
	category = medium_term
	group = FOCUS_FILTER_CONSOLIDATION
	allowed = {
	}
	visible = {
		FROM = {
			OR = {
				original_tag = BEK
				original_tag = OLD
				original_tag = NUT
				original_tag = GLK
			}
		}
	}
	available = {
		FROM = { has_war = yes }
	}
	completed = {
		longest_war_length > 36
		count_triggers = {
			amount = 3 # Add triggers to count below
			
			217 = { is_controlled_by_ROOT_or_ally = yes } # Singapore
			148 = { is_controlled_by_ROOT_or_ally = yes } # Gibraltar
			291 = { is_controlled_by_ROOT_or_ally = yes } # Malta
			IF = {
				limit = { 286 = { OWNER = { is_in_faction_with = ROOT } } }
				286 = { is_controlled_by_ROOT_or_ally = yes } # Saigon if France joins
			}
			IF = {
				limit = { 675 = { OWNER = { is_in_faction_with = ROOT } } }
				675 = { is_controlled_by_ROOT_or_ally = yes } # East Indies
			}
		}
	}
	complete_effect = {
		add_faction_power_projection = 200
		every_collection_element = {
			input = {
				input = game:scope
				operators =  { 
					faction_members 
					limit = {
						owns_any_state_of = {
							 360
							 73
							 776
							 286
							 675
						}
					}
				}
				
				name = OWNS_LISTED_STATE
			}
			custom_effect_tooltip = OWNS_LISTED_STATE
			add_faction_initiative = 1
			add_faction_influence_ratio = 0.05
			add_stability = 0.05
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 1 # The Empire cares a little
			OR = {
				original_tag = BEK
				original_tag = OLD
				original_tag = NUT
				original_tag = GLK
			}
			is_historical_focus_on = yes
		}
	}
}


faction_goal_guardians_of_peace = {
	name = guardians_of_peace_goal_name
	description = guardians_of_peace_goal_desc
	category = medium_term
	group = FOCUS_FILTER_CONSOLIDATION
	visible = {
		FROM = {
			NOT = { has_government = fire }
			NOT = { has_government = ice }
			NOT = { has_country_flag = guardians_of_peace_been_at_war_flag }
		}
	}
	available = {

	}
	cancel = {
		FROM = {
			has_country_flag = guardians_of_peace_been_at_war_flag
		}
	}
	completed = {
		NOT = { has_country_flag = guardians_of_peace_been_at_war_flag }
		all_allied_country = {
			NOT = { has_country_flag = guardians_of_peace_been_at_war_flag }
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			add_stability = 0.05
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 1
			has_government = candy
		}
	}
}


 ##  #  # ### #  #  ##  
#  # #  #  #  ## # #  # 
#    ####  #  # ## #### 
#  # #  #  #  #  # #  # 
 ##  #  # ### #  # #  # 


faction_goal_control_the_chinese_coast = {
	name = control_the_chinese_coast_goal_name
	description = control_the_chinese_coast_goal_desc
	group = FOCUS_FILTER_CONSOLIDATION
	category = medium_term
	allowed = {
	}
	visible = {
		FROM = {
			OR = {
				original_tag = PEA
				original_tag = PVT
				original_tag = PVH
				original_tag = PVF
				original_tag = PVI
				original_tag = PVS
			}
			has_war = yes
			OR = {
				has_faction_template = faction_template_chinese_united_front
				has_faction_template = faction_template_wang_front
			}
		}
	}
	completed = {
		OR = {
			AND = {
				has_war = yes 
				any_enemy_country = {
					war_length_with = {
						tag = ROOT
						months > 36
					}
				}
			}
			has_war = no
		}
		count_triggers = {
			amount = 5
			524 = { is_controlled_by_ROOT_or_ally = yes }
			536 = {	is_controlled_by_ROOT_or_ally = yes }
			517 = {	is_controlled_by_ROOT_or_ally = yes }
			577 = {	is_controlled_by_ROOT_or_ally = yes }
			593 = {	is_controlled_by_ROOT_or_ally = yes }
			653 = {	is_controlled_by_ROOT_or_ally = yes }
		}
		
	}
	cancel = {
		NOT = {
			count_triggers = {
				amount = 5
				524 = { is_controlled_by_ROOT_or_ally = yes }
				536 = {	is_controlled_by_ROOT_or_ally = yes }
				517 = {	is_controlled_by_ROOT_or_ally = yes }
				577 = {	is_controlled_by_ROOT_or_ally = yes }
				593 = {	is_controlled_by_ROOT_or_ally = yes }
				653 = {	is_controlled_by_ROOT_or_ally = yes }
			}
		}
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = THE_FACTION_LEADER
		add_faction_initiative = 1
		custom_effect_tooltip = generic_skip_one_line_tt
		every_collection_element = {
			input = {
				input = game:scope
				operators =  { 
					faction_members 
				}
				
				name = ALL_FACTION_MEMBERS
			}
			custom_effect_tooltip = ALL_FACTION_MEMBERS
			army_experience = 50
			add_war_support = 0.05
			add_stability = 0.05
		}
		every_collection_element = {
			input = {
				input = game:scope
				operators =  { 
					faction_members 
				}
				
				name = ALL_FACTION_MEMBERS
			}
			custom_effect_tooltip = ALL_FACTION_MEMBERS
			army_experience = 50
			add_war_support = 0.1
			add_stability = 0.05
		}
		every_state = {
			limit = {
				is_coastal = yes
			}
			add_building_construction = {
				type = coastal_bunker
				level = 2
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 10 # Pretty much everyone should want to do this
	}
}

faction_goal_the_northern_mandate = {
	name = faction_goal_the_northern_mandate_name
	description = faction_goal_the_northern_mandate_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
	}
	visible = {
		FROM = {
			OR = {
				original_tag = PEA
				original_tag = PVT
				original_tag = PVH
				original_tag = PVF
				original_tag = PVI
				original_tag = PVS
			}
			has_government = fire
		}
	}
	available = {
	}
	ratio_progress = {
		total_amount_collection = collection:the_northern_mandate_states
		completed_amount_collection = {
			input = game:scope
			operators = {
				limit = {
					is_controlled_by_ROOT_or_ally = yes
				}
			}
			name = COLLECTION_FACTION_CONTROLS_NORTHERN_MANDATE
		}
	}
	auto_complete = yes
	complete_effect = {
		add_faction_power_projection = 100
		
	}
	ai_will_do = {
		base = 1
	}
}

faction_goal_the_southern_mandate = {
	name = faction_goal_the_southern_mandate_name
	description = faction_goal_the_southern_mandate_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
	}
	visible = {
		FROM = {
			OR = {
				original_tag = PEA
				original_tag = PVT
				original_tag = PVH
				original_tag = PVF
				original_tag = PVI
				original_tag = PVS
			}
			has_government = fire
		}
	}
	available = {
	}
	ratio_progress = {
		total_amount_collection = collection:the_southern_mandate_states
		completed_amount_collection = {
			input = game:scope
			operators = {
				limit = {
					is_controlled_by_ROOT_or_ally = yes
				}
			}
			name = COLLECTION_FACTION_CONTROLS_SOUTHERN_MANDATE
		}
	}
	auto_complete = yes
	complete_effect = {
		add_faction_power_projection = 100
		
	}
	ai_will_do = {
		base = 1
	}
}

faction_goal_the_greater_game = {
	name = faction_goal_the_greater_game_name
	description = faction_goal_the_greater_game_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
	}
	visible = {
		FROM = {
			OR = {
				original_tag = PEA
				original_tag = PVT
				original_tag = PVH
				original_tag = PVF
				original_tag = PVI
				original_tag = PVS
			}
			has_government = fire
		}
	}
	available = {
	}
	ratio_progress = {
		total_amount_collection = collection:the_greater_game_states
		completed_amount_collection = {
			input = game:scope
			operators = {
				limit = {
					is_controlled_by_ROOT_or_ally = yes
				}
			}
			name = COLLECTION_FACTION_CONTROLS_GREATER_GAME
		}
	}
	auto_complete = yes
	complete_effect = {
		add_faction_power_projection = 50
		every_state = {
			limit = {
				is_controlled_by = ROOT
			}
			add_extra_state_shared_building_slots = 2
		}
	}
	ai_will_do = {
		base = 1
	}
}

faction_goal_subjugate_the_faction = {
	name = faction_goal_subjugate_the_faction_name
	description = faction_goal_subjugate_the_faction_desc
	category = medium_term
	group = FOCUS_FILTER_POLITICAL
	allowed = {
		OR = {
				original_tag = PEA
				original_tag = PVT
				original_tag = PVH
				original_tag = PVF
				original_tag = PVI
				original_tag = PVS
			}
	}
	visible = {
		FROM = { 
			OR = {
				original_tag = PEA
				original_tag = PVT
				original_tag = PVH
				original_tag = PVF
				original_tag = PVI
				original_tag = PVS
			}
		}
	}
	available = {
		FROM = {
			is_faction_leader = yes
		}
	}
	completed = {
		collection_size = {
			input = {
				input = game:scope
				operators = {
					faction_members
					limit = {
						is_subject_of = ROOT # Should be checking faction leader
					}
				}
				name = COLLECTION_AMOUNT_OF_SUBJECTS_TO_FACTION_LEADER
			}
			value > 7
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = THE_FACTION_LEADER
		add_faction_initiative = 1
		every_collection_element = {
			input = {
				input = game:scope
				operators =  { 
					faction_members 
				}
				
				name = ALL_FACTION_MEMBERS
			}
			custom_effect_tooltip = ALL_FACTION_MEMBERS
			add_war_support = 0.2
			
		}
	}
	ai_will_do = {
		base = 10 # Do itttt!
	}
}

 ###  ##  ###   ##  #  # 
   # #  # #  # #  # ## # 
   # #### ###  #### # ## 
#  # #  # #    #  # #  # 
 ##  #  # #    #  # #  # 


faction_goal_control_the_chinese_capitals = {
	name = control_the_chinese_capitals_goal_name
	description = control_the_chinese_capitals_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
	}
	visible = {
		FROM = {
			original_tag = FAJ
		}
	}
	completed = {
		278 = { is_controlled_by_ROOT_or_ally = yes }
		334 = { is_controlled_by_ROOT_or_ally = yes }
		230 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = THE_FACTION_LEADER
		add_faction_initiative = 1
		custom_effect_tooltip = generic_skip_one_line_tt
		every_collection_element = {
			input = {
				input = game:scope
				operators =  { 
					faction_members 
				}
				
				name = ALL_FACTION_MEMBERS
			}
			custom_effect_tooltip = ALL_FACTION_MEMBERS
			army_experience = 50
			air_experience = 25
			navy_experience = 25
		}
	}
	ai_will_do = {
		base = 1
	}
}

faction_goal_secure_the_oil_supply = {
	name = secure_the_oil_supply_goal_name
	description = secure_the_oil_supply_goal_desc
	category = medium_term
	group = resources_to_market_icon
	allowed = {
		
	}
	visible = {
		FROM = {
			original_tag = FAJ
		}
	}
	completed = {
		has_resources_in_collection = {
			collection = {
					input = game:scope
					operators =  { faction_members }
					name = FACTION
			}
			resource = oil
			amount > 199
		}
	}
	complete_effect = {

		every_faction_member = { 
			tooltip = AT_LEAST_70_OIL
			visible_when_empty = yes
			limit = {
				has_resources_in_country = {
					resource = oil
					amount > 69
				}
			}
			add_faction_initiative = 1
			add_faction_influence_ratio = 0.15
			add_tech_bonus = {
				name = secure_the_oil_supply_tech_bonus
				bonus = 0.75
				uses = 1
				category = excavation_tech
			}
		}
		
	}
	ai_will_do = {
		base = 1
	}
}


 ##  ##  #   # ### ### ###     #  # #  # ###  ##  #  # 
#   #  # #   #  #  #    #      #  # ## #  #  #  # ## # 
 #  #  #  # #   #  ##   #      #  # # ##  #  #  # # ## 
  # #  #  # #   #  #    #      #  # #  #  #  #  # #  # 
##   ##    #   ### ###  #       ##  #  # ###  ##  #  # 


faction_goal_indifference_is_a_threat = {
	name = indifference_is_a_threat_goal_name
	description = indifference_is_a_threat_goal_desc
	category = medium_term
	group = FOCUS_FILTER_CONSOLIDATION
	allowed = {
		
	}
	visible = {
		FROM = {
			original_tag = WTW
		}
	}
	completed = {
		collection_size = {
			input = {
				input = game:scope
				name = COLLECTION_COUNTRIES_EUROPE_NON_ALIGNED
			}
			value < 5
		}
	}
	complete_effect = {
		add_faction_power_projection = 500
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			add_political_power = 50
			add_popularity = {
				ideology = ice
				popularity = 0.05
			}
		}
	}
	ai_will_do = {
		base = 1
	}
}

faction_goal_undoing_brest_litowsk = {
	name = undoing_brest_litowsk_goal_name
	description = undoing_brest_litowsk_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			original_tag = WTW
		}
	}
	completed = {
		count_triggers = {
			amount = 4
			OR = {
				CBK = { exists = no }
				CBK = { is_in_faction_with = ROOT }
			}
			OR = {
				MPK = { exists = no }
				MPK = { is_in_faction_with = ROOT }
			}
			OR = {
				DAF = { exists = no }
				DAF = { is_in_faction_with = ROOT }
			}
			OR = {
				TGA = { exists = no }
				TGA = { is_in_faction_with = ROOT }
			}
			OR = {
				GFR = { exists = no }
				GFR = { is_in_faction_with = ROOT }
			}
		}
		
	}
	complete_effect = {
		add_faction_power_projection = 500
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = THE_FACTION_LEADER
		add_faction_initiative = 1
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			army_experience = 50
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			add = 9 # WTW should always prio this
			original_tag = WTW
		}
	}
}  




###   ##  #    ##  #  # ###  
#  # #  # #   #  # ## # #  # 
###  #  # #   #### # ## #  # 
#    #  # #   #  # #  # #  # 
#     ##  ### #  # #  # ###  


faction_goal_the_two_seas = {
	name = the_two_seas_goal_name
	description = the_two_seas_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	visible = {
		FROM = { original_tag = TGA }
	}
	
	completed = {
		has_naval_control = 146
		has_naval_control = 41
		has_naval_control = 42
		has_naval_control = 43
		OR = {
			287 = { 
				naval_base > 7 
				is_controlled_by_ROOT_or_ally = yes 
			}
			296 = { 
				naval_base > 7 
				is_controlled_by_ROOT_or_ally = yes 
			}
		}
	}
	complete_effect = {
		add_faction_power_projection = 50 
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = THE_FACTION_LEADER
		add_faction_initiative = 1
	}
	ai_will_do = {
		base = 0
	}
}


###########################################################

 ##  ### #  # ### ###  ###  ##       ##   ##   ##  #    ## 
#    #   ## # #   #  #  #  #  #     #    #  # #  # #   #   
# ## ##  # ## ##  ###   #  #        # ## #  # #### #    #  
#  # #   #  # #   #  #  #  #  #     #  # #  # #  # #     # 
 ##  ### #  # ### #  # ###  ##       ##   ##  #  # ### ##  

###########################################################


### Faction Growth

faction_goal_a_large_faction = {
	name = a_large_faction_goal_name
	description = a_large_faction_goal_desc
	category = medium_term
	group = FOCUS_FILTER_POLITICAL_CHARACTER
	visible = {
		num_faction_members > 4
	}
	completed = {
		num_faction_members > 9
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = THE_FACTION_LEADER
		add_faction_initiative = 1
	}
	ai_will_do = {
		base = 1
	}
}

### Units/Deployment

faction_goal_marine_corps = {
	name = marine_corps_goal_name
	description = marine_corps_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	available = {
	}
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION
			}
			unit_category = category_amphibious_tanks
			size > 9
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		hidden_effect = {
			every_collection_element = {
				input = {
					input = game:scope
					operators = { 
						faction_members 
						limit = {
							has_army_size = {
								size > 0
								unit_category = category_amphibious_tanks
							}
						}
					}
					name = ALL_FACTION_MEMBERS_WITH_1_AMPHIBIOUS
				}
				random_character = {
					tooltip = ONE_GENERAL	
					visible_when_empty = yes
					limit = {
						is_army_leader = yes
						is_field_marshal = no
						NOT = { has_trait = cavalry_officer }
						NOT = { has_trait = panzer_leader }
						NOT = { has_trait = naval_invader }
					}
					gain_xp = 400
					add_attack = 1
					add_trait = { trait = naval_invader }
				}
			}
		}
		custom_effect_tooltip = ALL_FACTION_MEMBERS_WITH_1_AMPHIBIOUS
		effect_tooltip = {
			random_character = {
				tooltip = ONE_GENERAL	
				visible_when_empty = yes
				limit = {
					is_army_leader = yes
					is_field_marshal = no
					NOT = { has_trait = cavalry_officer }
					NOT = { has_trait = panzer_leader }
					NOT = { has_trait = naval_invader }
				}
				gain_xp = 400
				add_attack = 1
				add_trait = { trait = naval_invader }
			}
		}
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			add_tech_bonus = {
				name = marine_corps_tech_bonus
				bonus = 0.5
				uses = 1
				category = marine_tech
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 1
			any_state = {
				is_controlled_by_ROOT_or_ally = yes
				is_coastal = yes
			}
		}
		modifier = {
			add = 2
			any_state = {
				is_controlled_by = ROOT
				is_coastal = yes
			}
		}
	}
}

faction_goal_submarine_force = {
	name = submarine_force_goal_name
	description = submarine_force_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	available = {

	}
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION
			}
			unit = submarine
			size > 126
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		every_collection_element = {
			input = {
				input = game:scope
				operators = { 
					faction_members 
					limit = {
						has_navy_size = {
							size > 24
							type = submarine
						}
					}
				}
				name = ALL_FACTION_MEMBERS_WITH_25_SUBMARINES
			}
			random_character = {
				tooltip = ONE_ADMIRAL	
				visible_when_empty = yes
				limit = {
					is_navy_leader = yes 
					NOT = { has_trait = seawolf }
					NOT = { has_trait = ironside }
					NOT = { has_trait = battleship_adherent }
					NOT = { has_trait = gunnery_expert }
					NOT = { has_trait = aviation_enthusiast }
				}
				gain_xp = 400
				add_attack = 1
				add_trait = { trait = seawolf }
			}
			add_mastery = {
				amount = 312
				track = submarines
			}
		}
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			add_tech_bonus = {
				name = submarine_force_tech_bonus
				bonus = 0.5
				uses = 1
				category = naval_equipment
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 1 # Powers with no dockyards should probably not care about navy
			num_of_naval_factories > 0
		}
		modifier = {
			add = 1 # Powers with a less dockyard capacity should probably try to build subs rather than contest the high seas
			num_of_naval_factories > 10
		}
		modifier = {
			add = -1 # Powers with more dockyard capacity should probably try to contest the high seas instead of building subs
			num_of_naval_factories > 25
		}
		modifier = {
			add = -1 # Powers with more dockyard capacity should probably try to contest the high seas instead of building subs
			num_of_naval_factories > 50
		}
	}
}

faction_goal_convoy_escort_force = {
	name = convoy_escort_force_goal_name
	description = convoy_escort_force_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	available = {

	}
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION
			}
			unit = screen_ship
			size > 126
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		every_collection_element = {
			input = {
				input = game:scope
				operators = { 
					faction_members 
					limit = {
						has_navy_size = {
							size > 24
							type = screen_ship
						}
					}
				}
				name = ALL_FACTION_MEMBERS_WITH_25_SCREENING_SHIPS
			}
			random_character = {
				tooltip = ONE_ADMIRAL	
				visible_when_empty = yes
				limit = {
					is_navy_leader = yes
					NOT = { has_trait = fleet_protector }
					NOT = { has_trait = seawolf }
					NOT = { has_trait = ironside }
					NOT = { has_trait = battleship_adherent }
					NOT = { has_trait = gunnery_expert }
					NOT = { has_trait = aviation_enthusiast }
				}
				gain_xp = 400
				add_attack = 1
				add_trait = { trait = fleet_protector }
			}
			add_mastery = {
				amount = 312
				track = screens
			}
		}
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			add_tech_bonus = {
				name = convoy_escort_force_tech_bonus
				bonus = 0.5
				uses = 1
				category = naval_equipment
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 1 # Powers with no dockyards should probably not care about navy
			num_of_naval_factories > 0
		}
		modifier = {
			add = 1 # Powers with threatened convoys should care more
			convoy_threat > 0.2
		}
		modifier = {
			add = 8 # Powers with very threatened convoys should care -a lot-
			convoy_threat > 0.5
		}
	}
}

faction_goal_air_superiority = {
	name = air_superiority_goal_name
	description = air_superiority_goal_desc
	category = medium_term
	group = FOCUS_FILTER_AIR_XP
	available = {

	}
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION
			}
			unit = fighter
			size > 999
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		every_collection_element = {
			input = {
				input = game:scope
				operators = { 
					faction_members 
					limit = {
						has_deployed_air_force_size = {
							size > 249
							type = fighter
						}
					}
				}
				name = ALL_FACTION_MEMBERS_WITH_250_FIGHTERS
			}
			air_experience = 50
			add_mastery = {
				amount = 312
				track = fighter_aircraft
			}
		}
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			add_tech_bonus = {
				name = air_superiority_tech_bonus
				bonus = 0.5
				uses = 1
				category = air_equipment
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 1 # Powers with few military factories should probably not care about expensive planes
			num_of_military_factories > 39
		}
		modifier = {
			add = 1 # Factions with decent number of military factories should probably start caring a lot about contesting air superiority - because they OLD
			count_in_collection = {
				collection = {
					input = game:scope
					operators = { faction_members }
					name = FACTION_NAME
				}
				buildings = { arms_factory }
				size > 149
			}
		}
	}
}

### Industry

faction_goal_industrial_expansion = {
	name = industrial_expansion_goal_name
	description = industrial_expansion_goal_desc
	category = medium_term
	group = FOCUS_FILTER_INDUSTRY
	visible = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION_NAME
			}
			buildings = { industrial_complex }
			size > 49
		}
	}
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION_NAME
			}
			buildings = { industrial_complex }
			size > 149
		}
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = generic_skip_one_line_tt
		every_faction_member = {
			tooltip = AT_LEAST_50_CIVS
			visible_when_empty = yes 
			limit = {
				num_of_civilian_factories > 49
			}
			add_tech_bonus = {
				name = industrial_expansion_tech_bonus
				bonus = 0.5
				uses = 2
				category = industry
			}
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			add = 1 # If already big it's easy to grow
			is_major = yes
		}
		modifier = {
			add = 1 # If already big it's easy to grow
			is_major = yes
		}
		modifier = {
			add = 1 # Prioritize more earlier on - more pay-off
			date < 1938.1.1
		}
	}
}


faction_goal_industrial_research = {
	name = industrial_research_goal_name
	description = industrial_research_goal_desc
	category = medium_term
	group = FOCUS_FILTER_RESEARCH
	visible = {
		any_allied_country = {
			NOT = { has_tech = construction4 }
		}
	}
	completed = {
		ROOT = {
			has_tech = construction4
		}
		all_allied_country = {
			has_tech = construction4
		}

		collection_size = {
				input = {
					input = game:scope
					operators =  { 
						faction_members 
					}
				}
				value > 4
			}
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = generic_skip_one_line_tt
		every_faction_member = {
			tooltip = INFLUENCE_ABOVE_30_PERCENT
			visible_when_empty = yes 
			limit = {
				faction_influence_ratio > 0.3
			}
			add_faction_initiative = 1
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			add = 1 # Prio for smaller factions (Easier to get everyone up then )
			collection_size = {
				input = {
					input = game:scope
					operators =  { 
						faction_members 
					}
				}
				value < 5
			}
		}
	}
}

faction_goal_a_military_base = {
	name = a_military_base_goal_name
	description = a_military_base_goal_desc
	category = medium_term
	group = FOCUS_FILTER_INDUSTRY
	visible = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION_NAME
			}
			buildings = { arms_factory }
			size > 49
		}
	}
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION_NAME
			}
			buildings = { arms_factory }
			size > 149
		}
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = generic_skip_one_line_tt
		every_faction_member = {
			tooltip = AT_LEAST_50_MILS
			visible_when_empty = yes 
			limit = {
				num_of_military_factories > 49
			}
			add_tech_bonus = {
				name = a_military_base_tech_bonus
				bonus = 0.5
				uses = 2
				category = excavation_tech
			}
		}
	}
	ai_will_do = {
		base = 0
	}
}

### War Waging

faction_goal_aggressive_defense = {
	name = aggressive_defense_goal_name
	description = aggressive_defense_goal_desc
	group = FOCUS_FILTER_WAR_SUPPORT
	category = medium_term
	visible = {
		FROM = { has_defensive_war = yes }
	}
	completed = {
		any_allied_country = {
			has_defensive_war = yes
		}
		collection_size = {
			input = {
				input = game:scope
				operators = {
					faction_members
					limit = {
						any_enemy_country = {
							has_offensive_war_with = ROOT
							casualties_inflicted_by = {
							    opponent = PREV
							    thousands > 250
							}
						}
					}
				}
				name = COLLECTION_CASUALTIES_INFLICTED_BY_FACTION_MEMBERS
			}
			value > 0
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS_INFLICTED_250K_CASUALTIES
		every_faction_member = {
			limit = {
				any_enemy_country = {
					has_offensive_war_with = ROOT
					casualties_inflicted_by = {
					    opponent = PREV
					    thousands > 250
					}
				}
			}
			add_faction_initiative = 1
		}
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			army_experience = 50
		}
	}
	ai_will_do = {
		base = 1
	}
}


### Strategic Resources

# Mexican Oil
faction_goal_control_mexican_oil = {
	name = control_mexican_oil_goal_name
	description = control_mexican_oil_goal_desc
	category = medium_term
	group = resources_to_market_icon
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = MEX
				is_in_faction_with = MEX
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 689
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		370 = { is_controlled_by_ROOT_or_ally = yes }
		689 = {	is_controlled_by_ROOT_or_ally = yes }
		349 = {	is_controlled_by_ROOT_or_ally = yes }
		354 = {	is_controlled_by_ROOT_or_ally = yes }		
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = {
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 370
					controls_state = 689
					controls_state = 349
					controls_state = 354
				}
			}
			add_faction_initiative = 1
		}
		every_state = {
			limit = {
				OR = {
					state = 370
					state = 689
					state = 349
					state = 354
				}
			}
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}
	}
	ai_will_do = {
		base = 1 # Everyone should always kiiiinda care about oil
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			689 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = -1 # If the alliance is doing well with fuel avoid taking this...
			fuel_ratio > 0.9
			all_allied_country = {
				fuel_ratio > 0.9
			}
		}
		modifier = {
			add = 1 # ...except if the faction has very few sources of oil to start with (might be full storages cuz not using their vehicles)
			has_resources_in_collection = {
				collection = {
						input = game:scope
						operators =  { faction_members }
						name = FACTION
				}
				resource = oil
				amount < 10
				extracted = yes
			}
		}
		modifier = {
			add = 1 # Powers with low fuel should care about oil a bit more
			fuel_ratio < 0.4
		}
		modifier = {
			add = 1 # Powers with very low fuel should care about oil A LOT
			fuel_ratio < 0.1
		}
		modifier = {
			add = 5 # Massive boost in case low fuel and already at war anyway
			fuel_ratio < 0.1
			689 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
	}
}

# Curacao Oil
faction_goal_control_curacao_oil = {
	name = control_curacao_oil_goal_name
	description = control_curacao_oil_goal_desc
	category = medium_term
	group = resources_to_market_icon
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = HOL
				is_in_faction_with = HOL
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 55
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		55 = { is_controlled_by_ROOT_or_ally = yes }	
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_allied_country = {
			visible_when_empty = yes
			limit = {
				controls_state = 55
			}
			add_faction_initiative = 1
		}
		55 = {
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}
	}
	ai_will_do = {
		base = 1 # Everyone should always kiiiinda care about oil
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			55 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = -1 # If the alliance is doing well with fuel avoid taking this...
			fuel_ratio > 0.9
			all_allied_country = {
				fuel_ratio > 0.9
			}
		}
		modifier = {
			add = 1 # ...except if the faction has very few sources of oil to start with (might be full storages cuz not using their vehicles)
			has_resources_in_collection = {
				collection = {
						input = game:scope
						operators =  { faction_members }
						name = FACTION
				}
				resource = oil
				amount < 10
				extracted = yes
			}
		}
		modifier = {
			add = 1 # Powers with low fuel should care about oil a bit more
			fuel_ratio < 0.4
		}
		modifier = {
			add = 1 # Powers with very low fuel should care about oil A LOT
			fuel_ratio < 0.1
		}
		modifier = {
			add = 5 # Massive boost in case low fuel and already at war anyway
			fuel_ratio < 0.1
			55 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
	}
}

# Venezuelan Oil
faction_goal_control_venezuelan_oil = {
	name = control_venezuelan_oil_goal_name
	description = control_venezuelan_oil_goal_desc
	category = medium_term
	group = resources_to_market_icon
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = VEN
				is_in_faction_with = VEN
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 32
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		33 = { is_controlled_by_ROOT_or_ally = yes }
		32 = {	is_controlled_by_ROOT_or_ally = yes }	
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_allied_country = { 
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 33
					controls_state = 32
				}
			}
			add_faction_initiative = 1
		}
		every_state = {
			limit = {
				OR = {
					state = 33
					state = 32
				}
			}
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}
	}
	ai_will_do = {
		base = 1 # Everyone should always kiiiinda care about oil
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			32 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = -1 # If the alliance is doing well with fuel avoid taking this...
			fuel_ratio > 0.9
			all_allied_country = {
				fuel_ratio > 0.9
			}
		}
		modifier = {
			add = 1 # ...except if the faction has very few sources of oil to start with (might be full storages cuz not using their vehicles)
			has_resources_in_collection = {
				collection = {
						input = game:scope
						operators =  { faction_members }
						name = FACTION
				}
				resource = oil
				amount < 10
				extracted = yes
			}
		}
		modifier = {
			add = 1 # Powers with low fuel should care about oil a bit more
			fuel_ratio < 0.4
		}
		modifier = {
			add = 1 # Powers with very low fuel should care about oil A LOT
			fuel_ratio < 0.1
		}
		modifier = {
			add = 5 # Massive boost in case low fuel and already at war anyway
			fuel_ratio < 0.1
			32 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
	}
}

# Guyanan Bauxite
faction_goal_control_guyanan_bauxite = {
	name = control_guyanan_bauxite_goal_name
	description = control_guyanan_bauxite_goal_desc
	category = medium_term
	group = resources_to_market_icon
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = BEK
				is_in_faction_with = BEK
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 23
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		23 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_allied_country = { 
			visible_when_empty = yes
			limit = {
				controls_state = 23
			}
			add_faction_initiative = 1
		}
		23 = {
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			23 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If low on aluminium
			aluminium > 40
		}
		modifier = {
			add = 1 # If very low on aluminium
			aluminium > 10
		}
		modifier = {
			add = 3 # If entire alliance is low on aluminium they should be heavily incentivized to taking more
			has_resources_in_collection = {
				collection = {
						input = game:scope
						operators =  { faction_members }
						name = FACTION
				}
				resource = aluminium
				amount < 10
				extracted = no # (optional, default: no) checks extracted amount instead of country balance
			}
		}
	}
}

# Surinamese Bauxite
faction_goal_control_suriname_bauxite = {
	name = control_suriname_bauxite_goal_name
	description = control_suriname_bauxite_goal_desc
	category = medium_term
	group = resources_to_market_icon
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = HOL
				is_in_faction_with = HOL
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 203
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		203 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_allied_country = { 
			visible_when_empty = yes
			limit = {
				controls_state = 203
			}
			add_faction_initiative = 1
		}
		203 = {
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			203 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If low on aluminium
			aluminium > 40
		}
		modifier = {
			add = 1 # If very low on aluminium
			aluminium > 10
		}
		modifier = {
			add = 3 # If entire alliance is low on aluminium they should be heavily incentivized to taking more
			has_resources_in_collection = {
				collection = {
						input = game:scope
						operators =  { faction_members }
						name = FACTION
				}
				resource = aluminium
				amount < 10
				extracted = no # (optional, default: no) checks extracted amount instead of country balance
			}
		}
	}
}

# Lappland Metals
faction_goal_control_lappland_metals = {
	name = control_lappland_metals_goal_name
	description = control_lappland_metals_goal_desc
	category = medium_term
	group = resources_to_market_icon
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = SWE
				is_in_faction_with = SWE
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 21
				value < 2000
			}
		}
	}
	available = {
		
	}
	completed = {
		8 = { is_controlled_by_ROOT_or_ally = yes }
		21 = {	is_controlled_by_ROOT_or_ally = yes }	
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 8
					controls_state = 21
				}
			}
			add_faction_initiative = 1
		}
		every_state = {
			limit = {
				OR = {
					state = 8
					state = 21
				}
			}
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			21 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If low on resources
			OR = {
				tungsten < 40
				steel < 40
				chromium < 12
			}
		}
		modifier = {
			add = 1 # If very low on resources
			OR = {
				tungsten < 10
				steel < 10
				chromium < 5
			}
		}
		modifier = {
			add = 3 # If entire alliance is low on resources they should be heavily incentivized to taking more
			OR = {
				has_resources_in_collection = {
					collection = {
							input = game:scope
							operators =  { faction_members }
							name = FACTION
					}
					resource = tungsten
					amount < 15
					extracted = no # (optional, default: no) checks extracted amount instead of country balance
				}
				has_resources_in_collection = {
					collection = {
							input = game:scope
							operators =  { faction_members }
							name = FACTION
					}
					resource = steel
					amount < 15
					extracted = no # (optional, default: no) checks extracted amount instead of country balance
				}
				has_resources_in_collection = {
					collection = {
							input = game:scope
							operators =  { faction_members }
							name = FACTION
					}
					resource = chromium
					amount < 8
					extracted = no # (optional, default: no) checks extracted amount instead of country balance
				}
			}
		}
	}
}

# Ploiesti Oil Fields
faction_goal_control_ploiesti_oil_fields = {
	name = control_ploiesti_oil_fields_goal_name
	description = control_ploiesti_oil_fields_goal_desc
	category = medium_term
	group = resources_to_market_icon
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				is_in_faction_with = BHP
				original_tag = BHP
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 548
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		548 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 548
			}
			add_faction_initiative = 1
		}
		548 = {
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}
	}
	ai_will_do = {
		base = 1 # Everyone should always kiiiinda care about oil
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			548 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = -1 # If the alliance is doing well with fuel avoid taking this...
			fuel_ratio > 0.9
			all_allied_country = {
				fuel_ratio > 0.9
			}
		}
		modifier = {
			add = 1 # ...except if the faction has very few sources of oil to start with (might be full storages cuz not using their vehicles)
			has_resources_in_collection = {
				collection = {
						input = game:scope
						operators =  { faction_members }
						name = FACTION
				}
				resource = oil
				amount < 10
				extracted = yes
			}
		}
		modifier = {
			add = 1 # Powers with low fuel should care about oil a bit more
			fuel_ratio < 0.4
		}
		modifier = {
			add = 1 # Powers with very low fuel should care about oil A LOT
			fuel_ratio < 0.1
		}
		modifier = {
			add = 5 # Massive boost in case low fuel and already at war anyway
			fuel_ratio < 0.1
			548 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
	}
}

# Baku Oil Fields
faction_goal_control_baku_oil_fields = {
	name = control_baku_oil_fields_goal_name
	description = control_baku_oil_fields_goal_desc
	category = medium_term
	group = resources_to_market_icon
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = WTW
				is_in_faction_with = WTW
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 263
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		263 = { is_controlled_by_ROOT_or_ally = yes }
		306 = {	is_controlled_by_ROOT_or_ally = yes }
		279 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 263
					controls_state = 306
					controls_state = 279
				}
			}
			add_faction_initiative = 1
		}
		every_state = {
			limit = {
				OR = {
					state = 263
					state = 306
					state = 279
				}
			}
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}
	}
	ai_will_do = {
		base = 1 # Everyone should always kiiiinda care about oil
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			689 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = -1 # If the alliance is doing well with fuel avoid taking this...
			fuel_ratio > 0.9
			all_allied_country = {
				fuel_ratio > 0.9
			}
		}
		modifier = {
			add = 1 # ...except if the faction has very few sources of oil to start with (might be full storages cuz not using their vehicles)
			has_resources_in_collection = {
				collection = {
						input = game:scope
						operators =  { faction_members }
						name = FACTION
				}
				resource = oil
				amount < 10
				extracted = yes
			}
		}
		modifier = {
			add = 1 # Powers with low fuel should care about oil a bit more
			fuel_ratio < 0.4
		}
		modifier = {
			add = 1 # Powers with very low fuel should care about oil A LOT
			fuel_ratio < 0.1
		}
		modifier = {
			add = 5 # Massive boost in case low fuel and already at war anyway
			fuel_ratio < 0.1
			689 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
	}
}

# Iraqi Oil
faction_goal_control_iraqi_oil = {
	name = control_iraqi_oil_goal_name
	description = control_iraqi_oil_goal_desc
	category = medium_term
	group = resources_to_market_icon
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = IRQ
				is_in_faction_with = IRQ
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 429
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		429 = { is_controlled_by_ROOT_or_ally = yes }
		584 = {	is_controlled_by_ROOT_or_ally = yes }
		511 = { is_controlled_by_ROOT_or_ally = yes }	
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 429
					controls_state = 584
					controls_state = 511
				}
			}
			add_faction_initiative = 1
		}
		every_state = {
			limit = {
				OR = {
					state = 429
					state = 584
					state = 511
				}
			}
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}
	}
	ai_will_do = {
		base = 1 # Everyone should always kiiiinda care about oil
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			689 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = -1 # If the alliance is doing well with fuel avoid taking this...
			fuel_ratio > 0.9
			all_allied_country = {
				fuel_ratio > 0.9
			}
		}
		modifier = {
			add = 1 # ...except if the faction has very few sources of oil to start with (might be full storages cuz not using their vehicles)
			has_resources_in_collection = {
				collection = {
						input = game:scope
						operators =  { faction_members }
						name = FACTION
				}
				resource = oil
				amount < 10
				extracted = yes
			}
		}
		modifier = {
			add = 1 # Powers with low fuel should care about oil a bit more
			fuel_ratio < 0.4
		}
		modifier = {
			add = 1 # Powers with very low fuel should care about oil A LOT
			fuel_ratio < 0.1
		}
		modifier = {
			add = 5 # Massive boost in case low fuel and already at war anyway
			fuel_ratio < 0.1
			689 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
	}
}

# Persian Oil
faction_goal_control_persian_oil = {
	name = control_persian_oil_goal_name
	description = control_persian_oil_goal_desc
	category = medium_term
	group = resources_to_market_icon
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = PER
				is_in_faction_with = PER
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 628
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		583 = { is_controlled_by_ROOT_or_ally = yes }
		605 = {	is_controlled_by_ROOT_or_ally = yes }
		628 = { is_controlled_by_ROOT_or_ally = yes }	
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 583
					controls_state = 605
					controls_state = 628
				}
			}
			add_faction_initiative = 1
		}
		every_state = {
			limit = {
				OR = {
					state = 583
					state = 605
					state = 628
				}
			}
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}
	}
	ai_will_do = {
		base = 1 # Everyone should always kiiiinda care about oil
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			689 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = -1 # If the alliance is doing well with fuel avoid taking this...
			fuel_ratio > 0.9
			all_allied_country = {
				fuel_ratio > 0.9
			}
		}
		modifier = {
			add = 1 # ...except if the faction has very few sources of oil to start with (might be full storages cuz not using their vehicles)
			has_resources_in_collection = {
				collection = {
						input = game:scope
						operators =  { faction_members }
						name = FACTION
				}
				resource = oil
				amount < 10
				extracted = yes
			}
		}
		modifier = {
			add = 1 # Powers with low fuel should care about oil a bit more
			fuel_ratio < 0.4
		}
		modifier = {
			add = 1 # Powers with very low fuel should care about oil A LOT
			fuel_ratio < 0.1
		}
		modifier = {
			add = 5 # Massive boost in case low fuel and already at war anyway
			fuel_ratio < 0.1
			689 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
	}
}

# Chinese Metals
faction_goal_control_chinese_metals = {
	name = control_chinese_metals_goal_name
	description = control_chinese_metals_goal_desc
	category = medium_term
	group = resources_to_market_icon
	allowed = {
	}
	visible = {
		FROM = {
			OR = {
				751 = { is_controlled_by_ROOT_or_ally = yes }
				749 = {	is_controlled_by_ROOT_or_ally = yes }
				726 = { is_controlled_by_ROOT_or_ally = yes }
				712 = { is_controlled_by_ROOT_or_ally = yes }	
			}
		}
		all_allied_country = {
			controls_state = 751
			controls_state = 749 
			controls_state = 726 
			controls_state = 712
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 712
				value < 2000
			}
		}
	}
	available = {
		
	}
	completed = {
		751 = { is_controlled_by_ROOT_or_ally = yes }
		749 = {	is_controlled_by_ROOT_or_ally = yes }
		726 = { is_controlled_by_ROOT_or_ally = yes }
		712 = { is_controlled_by_ROOT_or_ally = yes }		
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 751
					controls_state = 749
					controls_state = 726
					controls_state = 712
				}
			}
			add_faction_initiative = 1
		}
		every_state = {
			limit = {
				OR = {
					state = 751
					state = 749
					state = 726
					state = 712
				}
			}
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			712 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If low on resources
			OR = {
				tungsten < 40
				steel < 40
				chromium < 12
			}
		}
		modifier = {
			add = 1 # If very low on resources
			OR = {
				tungsten < 10
				steel < 10
				chromium < 5
			}
		}
		modifier = {
			add = 3 # If entire alliance is low on resources they should be heavily incentivized to taking more
			OR = {
				has_resources_in_collection = {
					collection = {
							input = game:scope
							operators =  { faction_members }
							name = FACTION
					}
					resource = tungsten
					amount < 15
					extracted = no # (optional, default: no) checks extracted amount instead of country balance
				}
				has_resources_in_collection = {
					collection = {
							input = game:scope
							operators =  { faction_members }
							name = FACTION
					}
					resource = steel
					amount < 15
					extracted = no # (optional, default: no) checks extracted amount instead of country balance
				}
				has_resources_in_collection = {
					collection = {
							input = game:scope
							operators =  { faction_members }
							name = FACTION
					}
					resource = chromium
					amount < 8
					extracted = no # (optional, default: no) checks extracted amount instead of country balance
				}
			}
		}
	}
}

# Malayan Riches
faction_goal_control_malayan_riches = {
	name = control_malayan_riches_goal_name
	description = control_malayan_riches_goal_desc
	category = medium_term
	group = resources_to_market_icon
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = GLK
				is_in_faction_with = GLK
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 3
				value < 2000
			}
		}
	}
	available = {
		
	}
	completed = {
		333 = { is_controlled_by_ROOT_or_ally = yes }
		3 = {	is_controlled_by_ROOT_or_ally = yes }
		360 = { is_controlled_by_ROOT_or_ally = yes }
		714 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 333
					controls_state = 3
					controls_state = 360
					controls_state = 714
				}
			}
			add_faction_initiative = 1
		}
		every_state = {
			limit = {
				OR = {
					state = 333
					state = 3
					state = 360
					state = 714
				}
			}
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			366 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If low on resources
			OR = {
				rubber < 40
				tungsten < 40
				steel < 12
				aluminium < 8
				fuel_ratio < 0.5
			}
		}
		modifier = {
			add = 1 # If very low on resources
			OR = {
				rubber < 10
				tungsten < 10
				steel < 8
				aluminium < 5
				fuel_ratio < 0.2
			}
		}
		modifier = {
			add = 3 # If entire alliance is low on resources they should be heavily incentivized to taking more
			OR = {
				has_resources_in_collection = {
					collection = {
							input = game:scope
							operators =  { faction_members }
							name = FACTION
					}
					resource = rubber
					amount < 15
					extracted = no # (optional, default: no) checks extracted amount instead of country balance
				}
				has_resources_in_collection = {
					collection = {
							input = game:scope
							operators =  { faction_members }
							name = FACTION
					}
					resource = tungsten
					amount < 15
					extracted = no # (optional, default: no) checks extracted amount instead of country balance
				}
				has_resources_in_collection = {
					collection = {
							input = game:scope
							operators =  { faction_members }
							name = FACTION
					}
					resource = steel
					amount < 8
					extracted = no # (optional, default: no) checks extracted amount instead of country balance
				}
				has_resources_in_collection = {
					collection = {
							input = game:scope
							operators =  { faction_members }
							name = FACTION
					}
					resource = aluminium
					amount < 4
					extracted = no # (optional, default: no) checks extracted amount instead of country balance
				}
				has_resources_in_collection = {
					collection = {
							input = game:scope
							operators =  { faction_members }
							name = FACTION
					}
					resource = oil
					amount < 10
					extracted = yes  # (optional, default: no) checks extracted amount instead of country balance
				}
			}
		}
	}
}

# Indonesian Riches
faction_goal_control_indonesian_riches = {
	name = control_indonesian_riches_goal_name
	description = control_indonesian_riches_goal_desc
	category = medium_term
	group = resources_to_market_icon
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = INS
				is_in_faction_with = INS
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 682
				value < 2000
			}
		}
	}
	available = {
		
	}
	completed = {
		669 = { is_controlled_by_ROOT_or_ally = yes }
		675 = {	is_controlled_by_ROOT_or_ally = yes }
		674 = {	is_controlled_by_ROOT_or_ally = yes }
		682 = { is_controlled_by_ROOT_or_ally = yes }
		670 = { is_controlled_by_ROOT_or_ally = yes }		
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 669
					controls_state = 675
					controls_state = 674
					controls_state = 682
					controls_state = 670
				}
			}
			add_faction_initiative = 1
		}
		every_state = {
			limit = {
				OR = {
					state = 669
					state = 675
					state = 674
					state = 682
					state = 670
				}
			}
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			682 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If low on resources
			OR = {
				rubber < 40
				aluminium < 12
				fuel_ratio < 0.5
			}
		}
		modifier = {
			add = 1 # If very low on resources
			OR = {
				rubber < 10
				aluminium < 5
				fuel_ratio < 0.2
			}
		}
		modifier = {
			add = 3 # If entire alliance is low on resources they should be heavily incentivized to taking more
			OR = {
				has_resources_in_collection = {
					collection = {
							input = game:scope
							operators =  { faction_members }
							name = FACTION
					}
					resource = rubber
					amount < 15
					extracted = no # (optional, default: no) checks extracted amount instead of country balance
				}
				has_resources_in_collection = {
					collection = {
							input = game:scope
							operators =  { faction_members }
							name = FACTION
					}
					resource = tungsten
					amount < 15
					extracted = no # (optional, default: no) checks extracted amount instead of country balance
				}
				has_resources_in_collection = {
					collection = {
							input = game:scope
							operators =  { faction_members }
							name = FACTION
					}
					resource = steel
					amount < 8
					extracted = no # (optional, default: no) checks extracted amount instead of country balance
				}
				has_resources_in_collection = {
					collection = {
							input = game:scope
							operators =  { faction_members }
							name = FACTION
					}
					resource = aluminium
					amount < 4
					extracted = no # (optional, default: no) checks extracted amount instead of country balance
				}
				has_resources_in_collection = {
					collection = {
							input = game:scope
							operators =  { faction_members }
							name = FACTION
					}
					resource = oil
					amount < 10
					extracted = yes  # (optional, default: no) checks extracted amount instead of country balance
				}
			}
		}
	}
}

### Strategic Bases

# Newfoundland
faction_goal_control_newfoundland_bases = {
	name = control_newfoundland_bases_goal_name
	description = control_newfoundland_bases_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = BEK
				is_in_faction_with = BEK
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 59
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		59 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 59
			}
			add_faction_initiative = 1
		}
		59 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			59 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the transatlantic supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_NORTH_AMERICA
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_EUROPE
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with a north american power prioritize this
			NOT = {
				any_controlled_state = {
					is_on_continent = europe
				}
			}
			any_enemy_country = {
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
	}
}

# Bermuda
faction_goal_control_bermuda = {
	name = control_bermuda_goal_name
	description = control_bermuda_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = BEK
				is_in_faction_with = BEK
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 755
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		755 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 755
			}
			add_faction_initiative = 1
		}
		755 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			59 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the transatlantic supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_NORTH_AMERICA
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_EUROPE
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with a north american power prioritize this
			NOT = {
				any_controlled_state = {
					is_on_continent = europe
				}
			}
			any_enemy_country = {
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
	}
}

# Bahamas
faction_goal_control_bahamas_bases = {
	name = control_bahamas_bases_goal_name
	description = control_bahamas_bases_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = BEK
				is_in_faction_with = BEK
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 680
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		659 = { is_controlled_by_ROOT_or_ally = yes }
		680 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 659
					controls_state = 680
				}
			}
			add_faction_initiative = 1
		}
		659 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = 10254
			}
		}
		680 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			59 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the transatlantic supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							OR = {
								is_on_continent = europe
								is_on_continent = europe
							}
						}
					}
					name = COLLECTION_FACTION_STATES_IN_NORTH_AMERICA
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							OR = {
								is_on_continent = europe
								is_on_continent = europe
							}
						}
					}
					name = COLLECTION_FACTION_STATES_IN_EUROPE
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with a north american power prioritize this
			any_enemy_country = {
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
	}
}

# Panama
faction_goal_control_panama_canal = {
	name = control_panama_canal_goal_name
	description = control_panama_canal_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = PBB
				is_in_faction_with = PBB
			}
		}
		OR = {
			any_collection_element = {
				collection = {
					 input = game:scope
					 operators = { faction_members controlled_states }
					 name = FACTION_CONTROLLED_STATES # a custom loc string that will be displayed
				}
				distance_to = {
					target = 25
					value < 2000
				}
			}
			AND = {
				25 = { is_controlled_by = PBB }
				has_war_with = PBB
				any_collection_element = {
					collection = {
						 input = game:scope
						 operators = { faction_members controlled_states }
						 name = FACTION_CONTROLLED_STATES # a custom loc string that will be displayed
					}
					distance_to = {
						target = 25
						value < 6000
					}
				}
			}
		}
	}
	available = {

	}
	completed = {
		25 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 25
			}
			add_faction_initiative = 1
		}
		25 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 7617
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 7617
				instant_build = yes
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			25 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 2 # If major naval power seek to control access
			has_navy_size = {
				size > 20
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with a north american power prioritize this
			NOT = {
				any_controlled_state = {
					is_on_continent = europe
				}
			}
			any_enemy_country = {
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
		modifier = {
			add = 10 # If PBB
			original_tag = PBB
		}
	}
}

# Trinidad
faction_goal_control_trinidad = {
	name = control_trinidad_goal_name
	description = control_trinidad_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = BEK
				is_in_faction_with = BEK
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 3
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		3 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 3
			}
			add_faction_initiative = 1
		}
		3 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			3 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the transatlantic supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							OR = {
								is_on_continent = europe
								is_on_continent = europe
							}
						}
					}
					name = COLLECTION_FACTION_STATES_IN_NORTH_AMERICA
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							OR = {
								is_on_continent = europe
								is_on_continent = europe
							}
						}
					}
					name = COLLECTION_FACTION_STATES_IN_EUROPE
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with a north american power prioritize this
			NOT = {
				any_controlled_state = {
					is_on_continent = europe
				}
			}
			any_enemy_country = {
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
	}
}

# Azores
faction_goal_control_azores = {
	name = control_azores_goal_name
	description = control_azores_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = POR
				is_in_faction_with = POR
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 360
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		360 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 360
			}
			add_faction_initiative = 1
		}
		360 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			360 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the transatlantic supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							OR = {
								is_on_continent = europe
								is_on_continent = europe
							}
						}
					}
					name = COLLECTION_FACTION_STATES_IN_NORTH_AMERICA
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							OR = {
								is_on_continent = europe
								is_on_continent = europe
							}
						}
					}
					name = COLLECTION_FACTION_STATES_IN_EUROPE
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 2 # If at war with a north american power prioritize this for range
			NOT = {
				any_controlled_state = {
					is_on_continent = europe
				}
			}
			any_enemy_country = {
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
	}
}

# Iceland
faction_goal_control_iceland = {
	name = control_iceland_goal_name
	description = control_iceland_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = DEN
				is_in_faction_with = DEN
				original_tag = ICE
				is_in_faction_with = ICE
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 312
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		312 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 312
			}
			add_faction_initiative = 1
		}
		312 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			312 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the transatlantic supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							OR = {
								is_on_continent = europe
								is_on_continent = europe
							}
						}
					}
					name = COLLECTION_FACTION_STATES_IN_NORTH_AMERICA
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							OR = {
								is_on_continent = europe
								is_on_continent = europe
							}
						}
					}
					name = COLLECTION_FACTION_STATES_IN_EUROPE
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 2 # If at war with a north american power prioritize this for range
			NOT = {
				any_controlled_state = {
					is_on_continent = europe
				}
			}
			any_enemy_country = {
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
	}
}

# Faroe Islands
faction_goal_control_faroe_islands = {
	name = control_faroe_islands_goal_name
	description = control_faroe_islands_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = DEN
				is_in_faction_with = DEN
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 331
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		331 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 331
			}
			add_faction_initiative = 1
		}
		331 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			331 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the transatlantic supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							OR = {
								is_on_continent = europe
								is_on_continent = europe
							}
						}
					}
					name = COLLECTION_FACTION_STATES_IN_NORTH_AMERICA
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							OR = {
								is_on_continent = europe
								is_on_continent = europe
							}
						}
					}
					name = COLLECTION_FACTION_STATES_IN_EUROPE
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with a north american power prioritize this
			NOT = {
				any_controlled_state = {
					is_on_continent = europe
				}
			}
			any_enemy_country = {
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
	}
}

# Narvik
faction_goal_control_narvik = {
	name = control_narvik_goal_name
	description = control_narvik_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = NOR
				is_in_faction_with = NOR
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 620
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		620 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 620
			}
			add_faction_initiative = 1
		}
		620 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 192
				instant_build = yes
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			620 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with USSR prioritize this
			any_enemy_country = {
				original_tag = WTW
			}
		}
	}
}

# Danish Belts
faction_goal_control_danish_belts = {
	name = control_danish_belts_goal_name
	description = control_danish_belts_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = DEN
				is_in_faction_with = DEN
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 146
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		146 = { is_controlled_by_ROOT_or_ally = yes }
		173 = { is_controlled_by_ROOT_or_ally = yes }
		126 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 146
					controls_state = 173
					controls_state = 126
				}
			}
			add_faction_initiative = 1
		}
		146 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				level = 2
				province = 6287
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				level = 2
				province = 3260
				instant_build = yes
			}
		}
		173 = {
			add_building_construction = {
				type = coastal_bunker
				level = 2
				province = 3325
				instant_build = yes
			}
		}
		126 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = 394
			}
			add_building_construction = {
				type = coastal_bunker
				level = 2
				province = 394
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				level = 2
				province = 3277
				instant_build = yes
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			146 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with BEK and capital is on mainland Europe prioritize this
			capital_scope = {
				is_on_continent = europe
			}
			any_enemy_country = {
				original_tag = BEK
			}
		}
		modifier = {
			add = 1 # If FIK prioritize this
			is_historical_focus_on = yes
			original_tag = FIK
		}
	}
}

# Brittany
faction_goal_control_brittany_bases = {
	name = control_brittany_bases_goal_name
	description = control_brittany_bases_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = FRA
				is_in_faction_with = FRA
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 14
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		14 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 14
			}
			add_faction_initiative = 1
		}
		14 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			14 = {
				controller = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If FIK or WTW prioritize this
			is_historical_focus_on = yes
			OR = {
				original_tag = WTW
				original_tag = FIK
			}
		}
	}
}

# Gibraltar
faction_goal_control_gibraltar = {
	name = control_gibraltar_goal_name
	description = control_gibraltar_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = BEK
				is_in_faction_with = BEK
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 73
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		73 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 73
			}
			add_faction_initiative = 1
		}
		73 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 4135
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 4135
				instant_build = yes
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			73 = {
				controller = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If FIK or TMT prioritize this
			is_historical_focus_on = yes
			OR = {
				original_tag = TMT
				original_tag = FIK
			}
		}
	}
}

# Malta
faction_goal_control_malta = {
	name = control_malta_goal_name
	description = control_malta_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = BEK
				is_in_faction_with = BEK
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 776
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		776 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 776
			}
			add_faction_initiative = 1
		}
		776 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			776 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the mediterranean supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							is_on_continent = europe
						}
					}
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							OR = {
								is_on_continent = europe
								is_on_continent = europe
							}
						}
					}
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If FIK or TMT prioritize this
			is_historical_focus_on = yes
			OR = {
				original_tag = TMT
				original_tag = FIK
			}
		}
	}
}

# Crete
faction_goal_control_crete = {
	name = control_crete_goal_name
	description = control_crete_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = WLR
				is_in_faction_with = WLR
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 777
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		777 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 777
			}
			add_faction_initiative = 1
		}
		777 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			777 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the mediterranean supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_NORTH_AMERICA
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							OR = {
								is_on_continent = europe
								is_on_continent = europe
							}
						}
					}
					name = COLLECTION_FACTION_STATES_IN_EUROPE
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If FIK or TMT prioritize this
			is_historical_focus_on = yes
			OR = {
				original_tag = TMT
				original_tag = FIK
			}
		}
	}
}

# Cyprus
faction_goal_control_cyprus = {
	name = control_cyprus_goal_name
	description = control_cyprus_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
					original_tag = BEK
					is_in_faction_with = BEK
				}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 696
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		696 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 696
			}
			add_faction_initiative = 1
		}
		696 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			777 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the mediterranean supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_NORTH_AMERICA
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							OR = {
								is_on_continent = europe
								is_on_continent = europe
							}
						}
					}
					name = COLLECTION_FACTION_STATES_IN_EUROPE
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If WWL prioritize this
			OR = {
				original_tag = WWL
			}
		}
		modifier = {
			add = 1 # If FIK or TMT prioritize this
			is_historical_focus_on = yes
			OR = {
				original_tag = TMT
				original_tag = FIK
			}
		}
	}
}

# Bosporus
faction_goal_control_bosporus = {
	name = control_bosporus_goal_name
	description = control_bosporus_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = WWL
				is_in_faction_with = WWL
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 688
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		688 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 688
			}
			add_faction_initiative = 1
		}
		688 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 2535
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 2535
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 11829
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 11829
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 1155
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 1155
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 9947
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 9947
				instant_build = yes
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			688 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If major naval power seek to control access
			has_navy_size = {
				size > 20
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with WTW prioritize this
			any_enemy_country = {
				original_tag = WTW
			}
		}
		modifier = {
			add = 1 # If WTW
			original_tag = WTW
		}
	}
}

# Dardanelles
faction_goal_control_dardanelles = {
	name = control_dardanelles_goal_name
	description = control_dardanelles_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = WWL
				is_in_faction_with = WWL
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 689
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		689 = { is_controlled_by_ROOT_or_ally = yes }
		695 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 689
					controls_state = 695
				}
			}
			add_faction_initiative = 1
		}
		689 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 2427
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 2427
				instant_build = yes
			}
		}
		695 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = 51
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 51
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 51
				instant_build = yes
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			689 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If major naval power seek to control access
			has_navy_size = {
				size > 20
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with WTW prioritize this
			any_enemy_country = {
				original_tag = WTW
			}
		}
		modifier = {
			add = 1 # If WTW
			original_tag = WTW
		}
	}
}

# Suez Canal
faction_goal_control_suez_canal = {
	name = control_suez_canal_goal_name
	description = control_suez_canal_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	allowed = {
		
	}
	visible = {
		FROM = {
				NOT = {
				original_tag = BEK
				is_in_faction_with = BEK
				original_tag = EGY
				is_in_faction_with = EGY
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 385
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		385 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 385
			}
			add_faction_initiative = 1
		}
		385 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = 2157
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 2157
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 2157
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = 4073
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 4073
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 4073
				instant_build = yes
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			385 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 2 # If major naval power seek to control access
			has_navy_size = {
				size > 20
				type = capital_ship
			}
		}
		modifier = {
			add = 10 # If BEK
			original_tag = BEK
		}
	}
}

# Gulf of Aden
faction_goal_control_gulf_of_aden_bases = {
	name = control_gulf_of_aden_bases_goal_name
	description = control_gulf_of_aden_bases_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = NUT
				is_in_faction_with = NUT
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 218
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		218 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 218
			}
			add_faction_initiative = 1
		}
		218 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			218 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the suez supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_EUROPE
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_ASIA
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with BEK prioritize this
			is_historical_focus_on = yes
			any_enemy_country = {
				original_tag = BEK
			}
		}
	}
}

# Strait of Hormuz
faction_goal_control_strait_of_hormuz = {
	name = control_strait_of_hormuz_goal_name
	description = control_strait_of_hormuz_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	allowed = {
		always = yes
	}
	visible = {
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 628
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		605 = { is_controlled_by_ROOT_or_ally = yes }
		628 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 605
					controls_state = 628
				}
			}
			add_faction_initiative = 1
		}
		605 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 7982
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 7982
				instant_build = yes
			}
		}
		628 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 13369
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 13369
				instant_build = yes
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			628 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the suez supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							OR = {
								is_on_continent = europe
								is_on_continent = europe
							}
						}
					}
					name = COLLECTION_FACTION_STATES_IN_EUROPE_OR_ASIA
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_MIDDLE_EAST
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with BEK prioritize this
			is_historical_focus_on = yes
			any_enemy_country = {
				original_tag = BEK
			}
		}
	}
}

# Ceylon
faction_goal_control_ceylon = {
	name = control_ceylon_goal_name
	description = control_ceylon_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = BEK
				is_in_faction_with = BEK
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 24
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		24 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 24
			}
			add_faction_initiative = 1
		}
		24 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			24 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_EUROPE
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_ASIA
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with BEK prioritize this
			is_historical_focus_on = yes
			any_enemy_country = {
				original_tag = BEK
			}
		}
	}
}

# Singapore
faction_goal_control_singapore = {
	name = control_singapore_goal_name
	description = control_singapore_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = BEK
				is_in_faction_with = BEK
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 360
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		360 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 360
			}
			add_faction_initiative = 1
		}
		360 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			360 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_EUROPE
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_ASIA
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with BEK prioritize this
			is_historical_focus_on = yes
			any_enemy_country = {
				original_tag = BEK
			}
		}
	}
}

# Manila
faction_goal_control_manila = {
	name = control_manila_goal_name
	description = control_manila_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = PHI
				is_in_faction_with = PHI
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 5
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		5 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 5
			}
			add_faction_initiative = 1
		}
		5 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 33
				instant_build = yes
			}
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			5 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with PBB prioritize this
			is_historical_focus_on = yes
			any_enemy_country = {
				original_tag = PBB
			}
		}
	}
}

# Okinawa
faction_goal_control_okinawa = {
	name = control_okinawa_goal_name
	description = control_okinawa_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = FAJ
				is_in_faction_with = FAJ
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 135
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		135 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 135
			}
			add_faction_initiative = 1
		}
		135 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			135 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with FAJ prioritize this
			any_enemy_country = {
				original_tag = FAJ
			}
		}
	}
}

# Iwo Jima
faction_goal_control_iwo_jima = {
	name = control_iwo_jima_goal_name
	description = control_iwo_jima_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = FAJ
				is_in_faction_with = FAJ
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 189
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		189 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 189
			}
			add_faction_initiative = 1
		}
		189 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			189 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with FAJ prioritize this
			any_enemy_country = {
				original_tag = FAJ
			}
		}
	}
}

# Caroline Islands
faction_goal_control_caroline_islands = {
	name = control_caroline_islands_goal_name
	description = control_caroline_islands_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = FAJ
				is_in_faction_with = FAJ
				original_tag = FSM
				is_in_faction_with = FSM
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 423
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		423 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 423
			}
			add_faction_initiative = 1
		}
		423 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = 2489
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			423 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the transpacific supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_NORTH_AMERICA
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_ASIA
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with a north american power prioritize this
			NOT = {
				any_controlled_state = {
					is_on_continent = europe
				}
			}
			any_enemy_country = {
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
		modifier = {
			add = 1 # If at war with FAJ prioritize this
			any_enemy_country = {
				original_tag = FAJ
			}
		}
	}
}

# Guadalcanal
faction_goal_control_guadalcanal = {
	name = control_guadalcanal_goal_name
	description = control_guadalcanal_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = AST
				is_in_faction_with = AST
				original_tag = SOL
				is_in_faction_with = SOL
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 397
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		397 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 397
			}
			add_faction_initiative = 1
		}
		397 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = 1269
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			397 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the transpacific supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							OR = {
								is_on_continent = europe
								is_on_continent = europe
							}
						}
					}
					name = COLLECTION_FACTION_STATES_IN_NORTH_AMERICA_OR_ASIA
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_AUSTRALIA
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with an oceanian power prioritize this
			NOT = {
				any_controlled_state = {
					is_on_continent = europe
				}
			}
			any_enemy_country = {
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
	}
}

# Wake Island
faction_goal_control_wake_island = {
	name = control_wake_island_goal_name
	description = control_wake_island_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = PBB
				is_in_faction_with = PBB
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 681
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		681 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 681
			}
			add_faction_initiative = 1
		}
		681 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			681 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the transpacific supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_NORTH_AMERICA
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_ASIA
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with a north american power prioritize this
			NOT = {
				any_controlled_state = {
					is_on_continent = europe
				}
			}
			any_enemy_country = {
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
		modifier = {
			add = 1 # If at war with PBB prioritize this
			any_enemy_country = {
				original_tag = PBB
			}
		}
	}
}

# Midway Island
faction_goal_control_midway_island = {
	name = control_midway_island_goal_name
	description = control_midway_island_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = PBB
				is_in_faction_with = PBB
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 747
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		747 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 747
			}
			add_faction_initiative = 1
		}
		747 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			747 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the transpacific supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_NORTH_AMERICA
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_ASIA
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with a north american power prioritize this
			NOT = {
				any_controlled_state = {
					is_on_continent = europe
				}
			}
			any_enemy_country = {
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
		modifier = {
			add = 1 # If at war with PBB prioritize this
			any_enemy_country = {
				original_tag = PBB
			}
		}
	}
}

# Hawaii
faction_goal_control_hawaii = {
	name = control_hawaii_goal_name
	description = control_hawaii_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = PBB
				is_in_faction_with = PBB
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 629
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		629 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 629
			}
			add_faction_initiative = 1
		}
		629 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			629 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the transpacific supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_NORTH_AMERICA
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_ASIA
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 2 # If major naval power you want it BADLY
			has_navy_size = {
				size > 20
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with a north american power prioritize this
			NOT = {
				any_controlled_state = {
					is_on_continent = europe
				}
			}
			any_enemy_country = {
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
		modifier = {
			add = 1 # If at war with PBB prioritize this
			any_enemy_country = {
				original_tag = PBB
			}
		}
	}
}

# Attu Island
faction_goal_control_attu_island = {
	name = control_attu_island_goal_name
	description = control_attu_island_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = PBB
				is_in_faction_with = PBB
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 650
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		650 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 650
			}
			add_faction_initiative = 1
		}
		650 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			650 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the transpacific supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_NORTH_AMERICA
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes 
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_ASIA
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with a north american power prioritize this
			NOT = {
				any_controlled_state = {
					is_on_continent = europe
				}
			}
			any_enemy_country = {
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
		modifier = {
			add = 1 # If at war with PBB prioritize this
			any_enemy_country = {
				original_tag = PBB
			}
		}
		modifier = {
			add = 1 # If FAJ prioritize this
			is_historical_focus_on = yes
			original_tag = FAJ
		}
	}
}