add_namespace = ikk

country_event = {
    id = ikk.1
	title = ikk.1.t
	desc = ikk.1.d
	picture = GFX_report_event_IKK_ricardio_experiment
	is_triggered_only = yes

    option = { 
		name = ikk.1.a
		ai_chance = {
			base = 3
		}
		add_country_leader_trait = without_heart
		PBB = { country_event = pbb.16 }
		hidden_effect = {
			set_country_leader_portrait = {
				ideology = ice
				portrait = GFX_portrait_IKK_ice_king_without_heart
			}
		}
	}
    option = { 
		name = ikk.1.b
		ai_chance = {
			base = 1
		}
		add_political_power = 60
		
	}
}
country_event = {
    id = ikk.2
	title = ikk.2.t
	desc = ikk.2.d
	picture = GFX_report_event_IKK_ricardio_back
	is_triggered_only = yes

    option = { 
		name = ikk.2.a
		add_stability = 0.08
		add_political_power = 150
		remove_country_leader_trait = without_heart
		hidden_effect = {
			set_country_leader_portrait = {
				ideology = ice
				portrait = GFX_portrait_IKK_ice_king
			}
			set_country_flag = fail_with_ricardio_flag
		}
	}
}
country_event = {
    id = ikk.3
	title = ikk.3.t
	desc = ikk.3.d
	picture = GFX_report_event_IKK_capture_princess
	is_triggered_only = yes

    option = { 
		name = ikk.3.a
		add_country_leader_trait = in_captivity
		unlock_decision_tooltip = call_for_help_to_heroes
	}
}
country_event = {
    id = ikk.4
	title = ikk.4.t
	desc = ikk.4.d
	picture = GFX_report_event_IKK_capture_princess2
	is_triggered_only = yes

    option = { 
		name = ikk.4.a
		custom_effect_tooltip = negotiations_with_kingdom_tt
		
	}
}
country_event = {
    id = ikk.5
	title = ikk.5.t
	desc = ikk.5.d
	picture = GFX_report_event_IKK_angry_king
	is_triggered_only = yes

    option = { 
		name = ikk.5.a
		ai_chance = {
			base = 1
			modifier = {
				factor = 1.2
				check_variable = {
					var = ice_king_pressure_var
					value = 1
				}
			}
			modifier = {
				factor = 1.4
				check_variable = {
					var = ice_king_pressure_var
					value = 2
				}
			}
			modifier = {
				factor = 1.6
				check_variable = {
					var = ice_king_pressure_var
					value = 3
				}
			}
			modifier = {
				factor = 1.8
				check_variable = {
					var = ice_king_pressure_var
					value = 4
				}
			}
			modifier = {
				factor = 2
				check_variable = {
					var = ice_king_pressure_var
					value = 5
				}
			}
			modifier = {
				factor = 2.2
				check_variable = {
					var = ice_king_pressure_var
					value = 6
				}
			}
			modifier = {
				factor = 2.4
				check_variable = {
					var = ice_king_pressure_var
					value = 7
				}
			}
			modifier = {
				factor = 2.6
				check_variable = {
					var = ice_king_pressure_var
					value = 8
				}
			}
			modifier = {
				factor = 2.8
				check_variable = {
					var = ice_king_pressure_var
					value = 9
				}
			}
			modifier = {
				factor = 3
				check_variable = {
					var = ice_king_pressure_var
					value = 10
				}
			}
			modifier = {
				factor = 3.2
				check_variable = {
					ice_king_pressure_var > 10
				}
			}
		}
		if = {
			limit = {
				has_idea = free_trade1
			}
			remove_ideas = free_trade1
		}
		remove_country_leader_trait = in_captivity
		FROM = {
			puppet = ROOT
			country_event = da.1
		}
	}
    option = { 
		name = ikk.5.b
		ai_chance = {
			base = 1
		}
		set_country_flag = go_fuck_yourself
		FROM = {
			country_event = net.1
		}
		
	}
}
country_event = {
    id = ikk.6
	title = ikk.6.t
	desc = ikk.6.d
	picture = GFX_report_event_IKK_angry_king
	is_triggered_only = yes

    option = { 
		name = ikk.6.a
		add_stability = -0.01
	}
}
country_event = {
    id = ikk.7
	title = ikk.7.t
	desc = ikk.7.d
	picture = GFX_report_event_IKK_capture_princess3
	is_triggered_only = yes

    option = { 
		name = ikk.7.a
		trigger = {
			TAG = IKK
		}
		add_stability = 0.02
		add_political_power = 25
	}
	option = { 
		name = ikk.7.a
		trigger = {
			NOT = { TAG = IKK }
		}
		add_stability = -0.02
		add_political_power = -25
	}
}
country_event = {
    id = ikk.8
	title = ikk.8.t
	desc = ikk.8.d
	picture = GFX_report_event_IKK_angry_king
	is_triggered_only = yes

    option = { 
		name = ikk.8.a
		add_manpower = 1
		add_political_power = 200
		add_war_support = 0.05
		set_country_flag = finn_is_defeated_flag
	}
}
country_event = {
    id = ikk.9
	title = ikk.9.t
	desc = ikk.9.d
	picture = GFX_report_event_IKK_angry_king
	is_triggered_only = yes

    option = { 
		name = ikk.9.a
		add_stability = -0.05
	}
}
country_event = {
    id = ikk.10
	title = ikk.10.t
	desc = ikk.10.d
	picture = GFX_report_event_IKK_angry_king
	is_triggered_only = yes

    option = { 
		name = ikk.10.a
		add_political_power = 50
		add_stability = 0.01
		add_war_support = 0.01
	}
}
country_event = {
    id = ikk.11
	title = ikk.11.t
	desc = ikk.11.d
	picture = GFX_report_event_IKK_angry_king
	is_triggered_only = yes

    option = { 
		name = ikk.11.a
		add_manpower = -1
		add_war_support = -0.1
	}
}
country_event = {
    id = ikk.12
	title = ikk.12.t
	desc = ikk.12.d
	picture = GFX_report_event_IKK_dialoge_with_finn
	is_triggered_only = yes

    option = { 
		name = ikk.12.a
		ai_chance = {
			base = 2
		}
		if = {
			limit = {
				FROM = { is_in_faction = yes }
			}
			FROM = { faction_leader = { add_to_faction = ROOT } }
		}
		else = {
			create_faction = FAJ_AND_IKK_faction
			add_to_faction = FROM
		}
		FROM = { 
			country_event = da.1
			add_stability = 0.05
			add_political_power = 100
			
		}
		add_war_support = 0.01
		add_political_power = 100
	}
    option = { 
		name = ikk.12.b
		ai_chance = {
			base = 1
		}
		add_stability = 0.05
		FROM = {
			country_event = net.1
		}
	}
}
country_event = {
    id = ikk.13
	title = ikk.13.t
	desc = ikk.13.d
	picture = GFX_report_event_IKK_ricardio_experiment
	is_triggered_only = yes

    option = { 
		name = ikk.13.a
		add_war_support = 0.1
		add_political_power = 100
	}
}
country_event = {
    id = ikk.14
	title = ikk.14.t
	desc = ikk.14.d
	picture = GFX_report_event_IKK_dialoge_with_finn
	is_triggered_only = yes

    option = { 
		name = ikk.14.a
		ai_chance = {
			base = 4
		}
		if = {
			limit = {
				PBB = { has_focus_tree = PBB_ricardio_focus_tree }
			}
			FROM = { 
				country_event = da.1
				create_wargoal = {
					type = annex_everything
					target = PBB
				}
			}
			PBB = {
				create_wargoal = {
					type = annex_everything
					target = PBB
				}
			}
		}
		else = {
			PBB = {
				country_event = ikk.19
			}
			effect_tooltip = {
				custom_effect_tooltip = effect_tooltip_agree
				PBB = { deactivate_advisor = PBB_ricardio }
				give_guarantee = PBB
				add_stability = 0.05
				add_political_power = 50
			}
		}
	}
    option = { 
		name = ikk.14.b
		ai_chance = {
			base = 1
		}
		add_stability = 0.01
		FROM = {
			every_owned_state = {
				limit = {
					any_neighbor_state = { is_owned_by = ROOT }
				}
				add_claim_by = ROOT
			}
			country_event = net.1
			create_wargoal = {
				type = annex_everything
				target = PBB
			}
		}
	}
}
country_event = {
    id = ikk.15
	title = ikk.15.t
	desc = ikk.15.d
	picture = GFX_report_event_FAJ_ice_king_in_gungeon
	is_triggered_only = yes

    option = { 
		name = ikk.15.a
		add_war_support = 0.04
		add_political_power = 100
		army_experience = 5
		random_other_country = {
			limit = {
				has_country_flag = safety_of_our_princess
			}
			clr_country_flag = safety_of_our_princess
			remove_country_leader_trait = in_captivity
		}
	}
}
country_event = {
    id = ikk.16
	title = ikk.16.t
	desc = ikk.16.d
	picture = GFX_report_event_FAJ_finn_in_the_truble
	is_triggered_only = yes

    option = { 
		name = ikk.16.a
		add_war_support = -0.01
		hidden_effect = {
			random_other_country = {
				limit = {
					has_country_flag = safety_of_our_princess
				}
				clr_country_flag = safety_of_our_princess
			}
		}
	}
}
country_event = {
    id = ikk.17
	title = ikk.17.t
	desc = ikk.17.d
	picture = GFX_report_event_FAJ_finn_in_the_truble
	is_triggered_only = yes

    option = { 
		name = ikk.17.a
		add_war_support = 0.01
	}
}
country_event = {
    id = ikk.18
	title = ikk.18.t
	desc = ikk.18.d
	picture = GFX_report_event_FAJ_ice_king_in_gungeon
	is_triggered_only = yes

    option = { 
		name = ikk.18.a
		add_war_support = 0.01
		random_other_country = {
			limit = {
				has_country_flag = safety_of_our_princess
			}
			effect_tooltip = { 
				remove_country_leader_trait = in_captivity
				clr_country_flag = safety_of_our_princess
			}
		}
	}
}
country_event = {
    id = ikk.19
	title = ikk.19.t
	desc = ikk.19.d
	picture = GFX_report_event_PBB_ricardio_coup
	is_triggered_only = yes

    option = { 
		name = ikk.19.a
		ai_chance = {
			base = 2
		}
		IKK = { country_event = ikk.2 }
		deactivate_advisor = PBB_ricardio
		clr_country_flag = ricardo_advistor_flag
		FAJ = {
			country_event = da.1
			give_guarantee = ROOT
			add_stability = 0.05
			add_political_power = 50
		}
	}
    option = { 
		name = ikk.19.b
		ai_chance = {
			base = 1
		}
		trigger = {
			has_idea_with_trait = PBB_zonoid_advistor
		}
		complete_national_focus = PBB_start_new_researches
		add_war_support = 0.02
		FROM = {
			country_event = net.1
			add_war_support = 0.05
		}
		every_owned_state = { 
			add_claim_by = FROM
			add_claim_by = IKK
		}
		every_owned_state = {
			limit = {
				any_neighbor_state = { is_owned_by = FROM }
			}
			add_core_of = FROM
			transfer_state_to = FROM
		}
	}
}
